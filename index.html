<!DOCTYPE html>
<html lang="id" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio ‚Äî Muhammad Rakha</title>
    <meta name="description" content="Portfolio elegan & responsif milik Muhammad Rakha ‚Äî Siswa SMKN 40 Jakarta, peraih prestasi Taekwondo & LKS Cyber Security, aktivis OSIS & ketua angkatan." />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Three.js & Vanta.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.net.min.js"></script>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@v2.15.1/devicon.min.css" />
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    animation: {
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'bar-1': 'bar 1.2s ease-in-out infinite',
                        'bar-2': 'bar 1.5s ease-in-out infinite',
                        'bar-3': 'bar 1.1s ease-in-out infinite',
                        'bar-4': 'bar 1.3s ease-in-out infinite',
                        'scan': 'scan 2s linear infinite',
                    },
                    keyframes: {
                        scan: {
                            '0%': { top: '-50%' },
                            '100%': { top: '150%' },
                        },
                        bar: {
                            '0%, 100%': { height: '20%' },
                            '50%': { height: '80%' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #0a0a0a;
            background-image: 
                radial-gradient(at 0% 0%, rgba(56, 189, 248, 0.03) 0px, transparent 50%),
                radial-gradient(at 100% 0%, rgba(236, 72, 153, 0.03) 0px, transparent 50%);
        }
        .glass-card {
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }
        .glass-card:hover {
            border-color: rgba(255, 255, 255, 0.15);
            background: rgba(255, 255, 255, 0.04);
        }
        .terminal-text::after {
            content: '_';
            animation: blink 1s step-end infinite;
        }
        @keyframes blink { 50% { opacity: 0; } }

        /* Typing Cursor */
        .typing-cursor::after {
            content: '|';
            animation: blink-cursor 0.8s step-end infinite;
            color: #10b981;
            margin-left: 4px;
        }
        @keyframes blink-cursor { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }

        /* Scroll Reveal */
        .reveal-on-scroll {
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
        }
        .reveal-on-scroll.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-track {
            background: #0a0a0a;
        }
        ::-webkit-scrollbar-thumb {
            background: #333;
            border-radius: 3px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }

        /* Glitch Effect */
        .glitch {
            position: relative;
        }
        .glitch::before,
        .glitch::after {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #0a0a0a;
        }
        .glitch::before {
            left: 2px;
            text-shadow: -1px 0 #ff00c1;
            clip: rect(24px, 550px, 90px, 0);
            animation: glitch-anim 3s infinite linear alternate-reverse;
        }
        .glitch::after {
            left: -2px;
            text-shadow: -1px 0 #00fff9;
            clip: rect(85px, 550px, 140px, 0);
            animation: glitch-anim 2s infinite linear alternate-reverse;
        }
        @keyframes glitch-anim {
            0% { clip: rect(14px, 9999px, 127px, 0); }
            5% { clip: rect(80px, 9999px, 26px, 0); }
            10% { clip: rect(36px, 9999px, 89px, 0); }
            15% { clip: rect(100px, 9999px, 2px, 0); }
            20% { clip: rect(10px, 9999px, 130px, 0); }
            25% { clip: rect(60px, 9999px, 70px, 0); }
            30% { clip: rect(14px, 9999px, 127px, 0); }
            100% { clip: rect(14px, 9999px, 127px, 0); }
        }

        /* Custom Cursor (Desktop Only) */
        @media (hover: hover) and (pointer: fine) {
            body {
                cursor: none; /* Hide default cursor */
            }
            .custom-cursor {
                position: fixed;
                top: 0;
                left: 0;
                width: 20px;
                height: 20px;
                border: 1px solid #10b981;
                border-radius: 50%;
                pointer-events: none;
                z-index: 9999;
                transform: translate(-50%, -50%);
                transition: width 0.2s, height 0.2s, background-color 0.2s, border-color 0.2s;
                mix-blend-mode: difference;
            }
            .custom-cursor.hovered {
                width: 50px;
                height: 50px;
                background-color: rgba(16, 185, 129, 0.1);
                border-color: #10b981;
                backdrop-filter: blur(2px);
            }
        }

        /* Intro Overlay */
        #intro-overlay {
            position: fixed;
            inset: 0;
            background-color: #000;
            z-index: 9999;
            display: flex;
            flex-direction: column;
            padding: 2rem;
            font-family: 'JetBrains Mono', monospace;
            overflow: hidden;
        }
        #intro-terminal {
            flex-grow: 1;
            color: #0f0;
            font-size: 14px;
            overflow-y: auto;
            white-space: pre-wrap;
            margin-bottom: 2rem;
            text-shadow: 0 0 5px #0f0;
        }
        .breach-alert {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(20, 0, 0, 0.9);
            border: 2px solid #f00;
            padding: 3rem;
            text-align: center;
            backdrop-filter: blur(10px);
            box-shadow: 0 0 50px rgba(255, 0, 0, 0.5), inset 0 0 20px rgba(255, 0, 0, 0.2);
            display: none;
            z-index: 10000;
            max-width: 90%;
        }
        .fix-btn {
            background: #f00;
            color: #fff;
            border: none;
            padding: 1rem 3rem;
            font-family: 'JetBrains Mono', monospace;
            font-weight: bold;
            font-size: 1.2rem;
            cursor: pointer;
            margin-top: 2rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            transition: all 0.3s;
            animation: pulse-red 1s infinite;
        }
        @keyframes pulse-red {
            0%, 100% { box-shadow: 0 0 0 0 rgba(255, 0, 0, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(255, 0, 0, 0); }
        }
        .fix-btn:hover {
            background: #fff;
            color: #f00;
            box-shadow: 0 0 30px #f00;
        }

        /* Custom Context Menu */
        #context-menu {
            position: fixed;
            background: rgba(10, 10, 10, 0.95);
            border: 1px solid #10b981;
            border-radius: 4px;
            padding: 8px 0;
            min-width: 200px;
            z-index: 10000;
            display: none;
            backdrop-filter: blur(10px);
            box-shadow: 0 0 20px rgba(16, 185, 129, 0.2);
        }
        .ctx-item {
            padding: 8px 16px;
            color: #10b981;
            font-family: 'JetBrains Mono', monospace;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .ctx-item:hover {
            background: rgba(16, 185, 129, 0.1);
            padding-left: 20px;
        }
        .ctx-hr {
            height: 1px;
            background: rgba(16, 185, 129, 0.2);
            margin: 4px 0;
        }

        /* IP Intel Widget */
        .ip-widget {
            position: fixed;
            bottom: 24px;
            left: 24px;
            background: rgba(0, 0, 0, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-left: 2px solid #10b981;
            padding: 12px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 10px;
            color: #6b7280;
            z-index: 40;
            backdrop-filter: blur(5px);
            max-width: 200px;
            transition: all 0.3s;
            display: none; /* Hidden initially until loaded */
        }
        .ip-widget:hover {
            border-color: #10b981;
            box-shadow: 0 0 15px rgba(16, 185, 129, 0.1);
        }
        .ip-widget.minimized #ip-content {
            max-height: 0;
            opacity: 0;
            margin: 0;
            padding: 0;
        }
        .ip-widget.minimized #ip-toggle-icon {
            transform: rotate(180deg);
        }
        .ip-label { color: #10b981; font-weight: bold; }
        .ip-value { color: #d1d5db; }

        /* Achievement Popup */
        #achievement-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 10001;
            display: flex;
            flex-direction: column;
            gap: 10px;
            pointer-events: none;
        }
        .achievement-card {
            background: rgba(10, 10, 10, 0.9);
            border: 1px solid #10b981;
            border-left: 4px solid #10b981;
            padding: 12px 16px;
            border-radius: 4px;
            width: 300px;
            transform: translateX(120%);
            transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 0 20px rgba(16, 185, 129, 0.2);
            display: flex;
            align-items: center;
            gap: 12px;
            pointer-events: auto;
        }
        .achievement-card.show {
            transform: translateX(0);
        }
        .achievement-icon {
            width: 40px;
            height: 40px;
            background: rgba(16, 185, 129, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #10b981;
        }

        /* Boss Mode Overlay */
        #boss-mode {
            position: fixed;
            inset: 0;
            background: #fff;
            z-index: 99999;
            display: none;
            font-family: Arial, sans-serif;
            color: #000;
            overflow: auto;
        }
        .excel-grid {
            width: 100%;
            border-collapse: collapse;
        }
        .excel-grid th, .excel-grid td {
            border: 1px solid #ccc;
            padding: 4px 8px;
            font-size: 12px;
            text-align: left;
        }
        .excel-grid th {
            background: #f3f3f3;
            font-weight: normal;
            text-align: center;
        }
        .excel-header {
            background: #217346;
            color: white;
            padding: 8px 16px;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Secure Input Effect */
        .secure-input-wrapper {
            position: relative;
        }
        .secure-preview {
            position: absolute;
            bottom: -20px;
            right: 0;
            font-family: 'JetBrains Mono', monospace;
            font-size: 10px;
            color: #10b981;
            opacity: 0.7;
            pointer-events: none;
        }

        /* Feature 1: Holo Card Effect */
        .holo-card {
            transform-style: preserve-3d;
            transition: transform 0.1s ease-out;
            will-change: transform;
        }
        .holo-content {
            transform: translateZ(20px);
        }
        .holo-shine {
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(255,255,255,0.15) 0%, rgba(255,255,255,0) 40%, rgba(255,255,255,0) 60%, rgba(255,255,255,0.15) 100%);
            opacity: 0;
            pointer-events: none;
            z-index: 20;
            transition: opacity 0.3s;
            mix-blend-mode: overlay;
        }

        /* Feature 2: Redacted Text */
        .redacted-text {
            background: #000;
            color: transparent;
            padding: 0 4px;
            border-radius: 2px;
            cursor: help;
            transition: all 0.3s;
            position: relative;
        }
        .redacted-text::before {
            content: 'TOP SECRET';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 8px;
            color: rgba(255,255,255,0.2);
            pointer-events: none;
            white-space: nowrap;
        }
        .redacted-text:hover, body.redacted-reveal .redacted-text {
            background: rgba(16, 185, 129, 0.1);
            color: #10b981;
        }
        .redacted-text:hover::before, body.redacted-reveal .redacted-text::before {
            display: none;
        }

        /* Feature 3: Brute Force Widget */
        .bf-char {
            display: inline-block;
            width: 1ch;
            text-align: center;
        }
        .bf-cracked {
            color: #10b981;
            text-shadow: 0 0 5px #10b981;
            font-weight: bold;
        }

        /* Feature: ASCII Mirror */
        #ascii-container {
            font-family: 'Courier New', monospace;
            font-size: 5px; /* Ultra tiny font */
            line-height: 4px;
            white-space: pre;
            overflow: hidden;
            color: #10b981;
            text-align: center;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #000;
            transform: scaleX(-1); /* Mirror effect */
        }

        /* Feature: Voice Command */
        #voice-cmd-btn {
            position: fixed;
            bottom: 90px;
            right: 24px;
            z-index: 49;
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: rgba(10, 10, 10, 0.8);
            border: 1px solid #10b981;
            color: #10b981;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            backdrop-filter: blur(5px);
            box-shadow: 0 0 15px rgba(16, 185, 129, 0.2);
        }
        #voice-cmd-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 0 20px rgba(16, 185, 129, 0.4);
        }
        #voice-cmd-btn.listening {
            background: rgba(220, 38, 38, 0.1);
            border-color: #ef4444;
            color: #ef4444;
            animation: pulse-listening 1.5s infinite;
        }
        @keyframes pulse-listening {
            0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4); }
            70% { box-shadow: 0 0 0 15px rgba(239, 68, 68, 0); }
            100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); }
        }
        
        /* Feature: Cyber Defense Game */
        #defense-game-overlay {
            position: fixed;
            inset: 0;
            background: rgba(5, 5, 5, 0.98);
            z-index: 100;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-family: 'Courier New', monospace;
            overflow: hidden;
        }
        .falling-word {
            position: absolute;
            color: #ef4444;
            font-weight: bold;
            font-size: 16px;
            text-shadow: 0 0 5px #ef4444;
            white-space: nowrap;
        }
        .matched-part {
            color: #10b981;
            text-shadow: 0 0 5px #10b981;
        }

        /* Feature: Sonic Synth Pad */
        .synth-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
            height: 100%;
        }
        .synth-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.1s;
            position: relative;
            overflow: hidden;
            color: rgba(255, 255, 255, 0.5);
            font-family: monospace;
            font-size: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .synth-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }
        .synth-btn:active, .synth-btn.active {
            transform: scale(0.95);
            background: rgba(168, 85, 247, 0.2); /* Purple tint */
            border-color: #a855f7;
            color: #a855f7;
            box-shadow: 0 0 15px rgba(168, 85, 247, 0.4);
        }

        /* Feature: Holographic ID */
        .holo-id-wrapper {
            perspective: 1000px;
            height: 100%;
        }
        .holo-id-card {
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            transition: transform 0.1s;
            position: relative;
        }
        .holo-layer {
            position: absolute;
            inset: 0;
            border-radius: 0.75rem;
        }
        .holo-content {
            transform: translateZ(30px);
        }
        .holo-bg {
            background: rgba(20, 20, 20, 0.6);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transform: translateZ(0px);
        }
        .holo-glare {
            background: linear-gradient(125deg, transparent 0%, rgba(255,255,255,0.4) 45%, transparent 60%);
            transform: translateZ(50px);
            opacity: 0;
            transition: opacity 0.2s;
            pointer-events: none;
            mix-blend-mode: overlay;
        }
        .holo-chip {
            background: linear-gradient(135deg, #fbbf24 0%, #d97706 100%);
            box-shadow: inset 0 0 5px rgba(0,0,0,0.5);
        }

        /* Feature: Sequencer Timeline */
        .sequencer-wrapper {
            background: #0a0a0a;
            border: 1px solid #333;
            border-radius: 8px;
            overflow: hidden;
            position: relative;
            font-family: 'Courier New', monospace;
        }
        .seq-header {
            display: flex;
            height: 24px;
            background: #1a1a1a;
            border-bottom: 1px solid #333;
        }
        .seq-ruler {
            flex: 1;
            display: flex;
        }
        .seq-marker {
            flex: 1;
            border-right: 1px solid #333;
            font-size: 10px;
            color: #555;
            padding-left: 4px;
            line-height: 24px;
        }
        .seq-body {
            position: relative;
        }
        .seq-track {
            display: flex;
            height: 50px;
            border-bottom: 1px solid #222;
        }
        .seq-track-info {
            width: 120px;
            background: #151515;
            border-right: 1px solid #333;
            display: flex;
            align-items: center;
            padding: 0 10px;
            font-size: 11px;
            color: #888;
            flex-shrink: 0;
        }
        .seq-track-lane {
            flex: 1;
            position: relative;
            background: repeating-linear-gradient(90deg, transparent, transparent 19.5%, #222 20%);
        }
        .seq-clip {
            position: absolute;
            top: 8px;
            bottom: 8px;
            border-radius: 4px;
            padding: 6px 10px;
            font-size: 10px;
            color: white;
            overflow: hidden;
            white-space: nowrap;
            text-overflow: ellipsis;
            cursor: pointer;
            border: 1px solid rgba(255,255,255,0.2);
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        .seq-clip:hover {
            filter: brightness(1.2);
            transform: scale(1.02);
            z-index: 10;
        }
        .seq-playhead {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 1px;
            background: #ef4444;
            z-index: 50;
            pointer-events: none;
            box-shadow: 0 0 8px #ef4444;
        }
    </style>
</head>
<body class="text-neutral-400 font-sans antialiased selection:bg-neutral-800 selection:text-white min-h-screen flex flex-col relative overflow-hidden">
    <!-- Boss Mode Overlay -->
    <div id="boss-mode">
        <div class="excel-header">
            <span>üìä</span>
            <span>Annual_Budget_Report_2025.xlsx - Excel</span>
        </div>
        <div class="bg-[#f3f3f3] p-2 border-b border-[#ccc] flex gap-4 text-xs">
            <span>File</span><span>Home</span><span>Insert</span><span>Page Layout</span><span>Formulas</span><span>Data</span>
        </div>
        <div class="p-1 bg-white border-b border-[#ccc] text-xs font-mono">
            A1: <span class="ml-2">Q1 Financial Summary</span>
        </div>
        <table class="excel-grid">
            <thead>
                <tr>
                    <th style="width: 40px"></th>
                    <th>A</th><th>B</th><th>C</th><th>D</th><th>E</th><th>F</th>
                </tr>
            </thead>
            <tbody>
                <!-- Rows generated by JS -->
            </tbody>
        </table>
    </div>

    <!-- Achievement Container -->
    <div id="achievement-container"></div>

    <!-- Intro Overlay -->
    <div id="intro-overlay">
        <div id="intro-terminal"></div>
        <div id="breach-alert" class="breach-alert">
            <h1 class="text-4xl md:text-6xl font-bold text-red-500 mb-4 tracking-tighter">‚ö†Ô∏è SYSTEM BREACHED ‚ö†Ô∏è</h1>
            <p class="text-red-300 text-lg md:text-xl mb-8 font-mono">UNAUTHORIZED ACCESS DETECTED.<br>YOUR IP HAS BEEN LOGGED.<br>DATA EXFILTRATION IN PROGRESS...</p>
            <button id="fix-btn" class="fix-btn">FIX IT NOW</button>
        </div>
    </div>

    <!-- Vanta Background -->
    <div id="vanta-bg" class="fixed inset-0 -z-10 opacity-30 pointer-events-none"></div>
    
    <!-- Matrix Rain Canvas (Hidden by default) -->
    <canvas id="matrix-canvas" class="fixed inset-0 -z-5 opacity-0 pointer-events-none transition-opacity duration-1000"></canvas>

    <!-- Navigation -->
    <nav class="fixed top-0 w-full z-50 border-b border-white/5 bg-neutral-950/80 backdrop-blur-md">
        <div class="max-w-5xl mx-auto px-6 h-14 flex items-center justify-between">
            <a href="#" class="text-white font-medium tracking-tight text-sm hover:text-neutral-300 transition-colors flex items-center gap-2">
                <img src="M. Rakha.jpg" alt="Rakha" class="w-6 h-6 rounded-full object-cover">
                Muhammad Rakha.
            </a>
            <div class="flex items-center gap-6">
                <a href="#achievements" class="text-xs font-medium hover:text-white transition-colors">Prestasi</a>
                <a href="#skills" class="text-xs font-medium hover:text-white transition-colors">Keahlian</a>
                <a href="#contact" class="text-xs font-medium hover:text-white transition-colors">Kontak</a>
                <button onclick="activateMatrixMode()" class="text-xs font-medium text-neutral-500 hover:text-green-500 transition-colors" title="Toggle Matrix Mode">
                    <i data-lucide="binary" class="w-4 h-4"></i>
                </button>
                <button id="open-cmd-btn" class="text-xs font-medium text-emerald-500 hover:text-emerald-400 transition-colors flex items-center gap-1 border border-emerald-500/30 px-2 py-1 rounded hover:bg-emerald-500/10">
                    <i data-lucide="terminal" class="w-3 h-3"></i> CMD
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="flex-grow pt-32 pb-20 px-6">
        <div class="max-w-5xl mx-auto space-y-24">
            
            <!-- Hero Section -->
            <section class="flex flex-col-reverse md:flex-row items-center gap-12">
                <div class="space-y-6 flex-1">
                    <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/5 border border-white/10 text-xs font-medium text-neutral-300 w-fit">
                        <span class="relative flex h-2 w-2">
                        <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"></span>
                        <span class="relative inline-flex rounded-full h-2 w-2 bg-emerald-500"></span>
                        </span>
                        Siswa & Developer
                    </div>
                    
                    <h1 class="text-4xl md:text-6xl lg:text-7xl font-medium text-white tracking-tight leading-[1.1] mb-4">
                        <span class="glitch inline-block" data-text="Muhammad Rakha">Muhammad Rakha</span><br> 
                        <span id="typewriter-text" class="text-neutral-500 text-3xl md:text-5xl typing-cursor"></span>
                    </h1>
                    
                    <p class="max-w-xl text-lg text-neutral-500 font-light leading-relaxed reveal-on-scroll">
                        Siswa <span class="redacted-text">SMKN 40 Jakarta</span> yang berfokus pada pengembangan aplikasi aman dan sederhana. Saya senang bekerja dalam tim, menyusun strategi, dan mengeksekusi rencana secara disiplin.
                    </p>

                    <div class="flex gap-4 pt-4 reveal-on-scroll">
                        <a href="#achievements" class="group bg-white text-black px-5 py-2.5 rounded text-sm font-medium hover:bg-neutral-200 transition-colors flex items-center gap-2">
                            Lihat Prestasi
                            <i data-lucide="arrow-right" class="w-4 h-4 transition-transform group-hover:translate-x-1"></i>
                        </a>
                        <a href="#contact" class="px-5 py-2.5 rounded text-sm font-medium text-white hover:bg-white/5 transition-colors border border-transparent hover:border-white/10">
                            Hubungi Saya
                        </a>
                    </div>
                </div>
                
                <div class="relative w-64 h-64 md:w-80 md:h-80 flex-shrink-0 group">
                    <!-- 3D Object Container -->
                    <div id="hero-3d" class="absolute inset-[-100px] z-0 opacity-100 pointer-events-none"></div>
                    
                    <div class="absolute inset-0 bg-gradient-to-tr from-blue-500/20 to-purple-500/20 rounded-full blur-2xl hidden"></div>
                    <img src="M. Rakha.jpg" alt="Rakha" class="relative w-full h-full object-cover rounded-full border-2 border-white/10 shadow-2xl z-10">
                </div>
            </section>

            <!-- Bento Grid (Prestasi & Keahlian) -->
            <section id="achievements" class="grid grid-cols-1 md:grid-cols-6 lg:grid-cols-4 gap-4 auto-rows-[minmax(180px,auto)]">
                
                <!-- Card 1: Profile Holo Card -->
                <div id="holo-card" class="group glass-card rounded-xl p-6 md:col-span-3 lg:col-span-2 row-span-2 relative overflow-hidden flex flex-col justify-between reveal-on-scroll holo-card">
                    <div class="holo-shine"></div>
                    <!-- Background Grid -->
                    <div class="absolute inset-0 bg-[linear-gradient(rgba(16,185,129,0.05)_1px,transparent_1px),linear-gradient(90deg,rgba(16,185,129,0.05)_1px,transparent_1px)] bg-[length:20px_20px] pointer-events-none"></div>
                    <div class="absolute inset-0 bg-gradient-to-br from-emerald-500/10 to-cyan-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                    
                    <div class="relative z-10 holo-content h-full flex flex-col">
                        <!-- Header -->
                        <div class="flex justify-between items-start mb-6">
                            <div class="flex gap-4 items-center">
                                <div class="w-16 h-16 rounded-full border-2 border-emerald-500/50 p-1 relative group-hover:scale-105 transition-transform duration-500">
                                    <img src="M. Rakha.jpg" alt="Profile" class="w-full h-full rounded-full object-cover grayscale group-hover:grayscale-0 transition-all duration-500">
                                    <div class="absolute bottom-0 right-0 w-4 h-4 bg-emerald-500 border-2 border-black rounded-full animate-pulse"></div>
                                </div>
                                <div>
                                    <h2 class="text-2xl font-bold text-white tracking-tight">M. RAKHA</h2>
                                    <div class="flex items-center gap-2 text-xs font-mono text-emerald-400/80">
                                        <span>ID: 8492-01</span>
                                        <span>‚Ä¢</span>
                                        <span>NETSEC_DIV</span>
                                    </div>
                                </div>
                            </div>
                            <i data-lucide="qr-code" class="w-8 h-8 text-white/20 group-hover:text-emerald-500/50 transition-colors"></i>
                        </div>
                        
                        <!-- Middle: Achievement Log -->
                        <div class="flex-1 flex flex-col justify-center gap-3 mb-4 relative z-20">
                            <div class="flex items-center gap-2 mb-1">
                                <div class="h-px flex-1 bg-gradient-to-r from-transparent to-emerald-500/50"></div>
                                <span class="text-[10px] font-mono text-emerald-500 tracking-widest uppercase">Achievement Log</span>
                                <div class="h-px flex-1 bg-gradient-to-l from-transparent to-emerald-500/50"></div>
                            </div>

                            <!-- Achievement 1 -->
                            <div class="flex items-center gap-3 p-2 rounded bg-white/5 border border-white/5 hover:bg-white/10 hover:border-emerald-500/30 transition-all group/item">
                                <div class="w-8 h-8 rounded bg-yellow-500/10 flex items-center justify-center border border-yellow-500/20 group-hover/item:border-yellow-500/50">
                                    <i data-lucide="trophy" class="w-4 h-4 text-yellow-500"></i>
                                </div>
                                <div>
                                    <h4 class="text-xs font-bold text-white">JUARA 1 Wilayah</h4>
                                    <p class="text-[10px] text-neutral-400 font-mono">LKS Wilayah Cyber Security</p>
                                </div>
                            </div>

                            <!-- Achievement 2 -->
                            <div class="flex items-center gap-3 p-2 rounded bg-white/5 border border-white/5 hover:bg-white/10 hover:border-emerald-500/30 transition-all group/item">
                                <div class="w-8 h-8 rounded bg-yellow-500/10 flex items-center justify-center border border-yellow-500/20 group-hover/item:border-yellow-500/50">
                                    <i data-lucide="medal" class="w-4 h-4 text-yellow-500"></i>
                                </div>
                                <div>
                                    <h4 class="text-xs font-bold text-white">JUARA 1 Provinsi</h4>
                                    <p class="text-[10px] text-neutral-400 font-mono">LKS Provinsi Cyber Security JT1</p>
                                </div>
                            </div>

                            <!-- Achievement 3 -->
                            <div class="flex items-center gap-3 p-2 rounded bg-white/5 border border-white/5 hover:bg-white/10 hover:border-emerald-500/30 transition-all group/item">
                                <div class="w-8 h-8 rounded bg-orange-700/10 flex items-center justify-center border border-orange-700/20 group-hover/item:border-orange-500/50">
                                    <i data-lucide="award" class="w-4 h-4 text-orange-500"></i>
                                </div>
                                <div>
                                    <h4 class="text-xs font-bold text-white">MEDALI PERUNGGU</h4>
                                    <p class="text-[10px] text-neutral-400 font-mono">LKS Nasional</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Footer Info -->
                        <div class="grid grid-cols-2 gap-3">
                            <div class="bg-black/40 rounded p-2 border border-white/5 group-hover:border-emerald-500/30 transition-colors">
                                <p class="text-[10px] text-neutral-500 mb-0.5 uppercase tracking-wider">Role</p>
                                <p class="text-xs text-white font-mono truncate">CYBER SECURITY SPECIALIST</p>
                            </div>
                            <div class="bg-black/40 rounded p-2 border border-white/5 group-hover:border-emerald-500/30 transition-colors">
                                <p class="text-[10px] text-neutral-500 mb-0.5 uppercase tracking-wider">Clearance</p>
                                <p class="text-xs text-white font-mono flex items-center gap-2">
                                    LEVEL 5 <span class="flex h-1.5 w-1.5 rounded-full bg-emerald-500 shadow-[0_0_5px_#10b981]"></span>
                                </p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Decorative Elements -->
                    <div class="absolute top-4 right-4 w-2 h-2 border-t border-r border-white/30"></div>
                    <div class="absolute bottom-4 left-4 w-2 h-2 border-b border-l border-white/30"></div>
                </div>

                <!-- Card 2: SecOps / Threat Map -->
                <div class="group glass-card rounded-xl p-0 md:col-span-3 lg:col-span-2 relative overflow-hidden reveal-on-scroll flex flex-col">
                    <div class="absolute inset-0 bg-black/40 z-0"></div>
                    
                    <!-- Header -->
                    <div class="relative z-10 p-4 border-b border-white/5 flex justify-between items-center bg-black/20 backdrop-blur-sm">
                        <div class="flex items-center gap-2">
                            <i data-lucide="globe" class="w-4 h-4 text-emerald-500 animate-pulse"></i>
                            <span class="text-xs font-medium text-white tracking-wide uppercase">Live Threat Map</span>
                        </div>
                        <div class="flex gap-2 text-[10px] font-mono text-emerald-500/70">
                            <span>ATTACKS: <span id="attack-count">0</span></span>
                            <span>STATUS: <span class="text-red-500 animate-pulse">CRITICAL</span></span>
                        </div>
                    </div>

                    <!-- Canvas Container -->
                    <div class="relative flex-grow w-full h-full min-h-[180px]">
                        <canvas id="threat-map" class="absolute inset-0 w-full h-full block"></canvas>
                        <!-- Overlay Grid -->
                        <div class="absolute inset-0 bg-[linear-gradient(rgba(16,185,129,0.05)_1px,transparent_1px),linear-gradient(90deg,rgba(16,185,129,0.05)_1px,transparent_1px)] bg-[length:20px_20px] pointer-events-none"></div>
                    </div>
                </div>

                <!-- Card 3: Music/Guitar -->
                <div id="music-card" class="group glass-card rounded-xl p-6 md:col-span-2 lg:col-span-1 relative overflow-hidden flex flex-col justify-between reveal-on-scroll cursor-pointer hover:border-orange-500/50 transition-colors">
                    <div class="absolute top-0 right-0 p-32 bg-orange-500/5 blur-3xl rounded-full"></div>
                    
                    <div class="flex items-center justify-between">
                        <i data-lucide="music" class="w-5 h-5 text-white/80 group-hover:text-orange-500 transition-colors"></i>
                        <div class="flex gap-1 h-4 items-end">
                            <div class="w-1 bg-white/50 rounded-sm animate-bar-1 group-hover:bg-orange-500"></div>
                            <div class="w-1 bg-white/50 rounded-sm animate-bar-2 group-hover:bg-orange-500"></div>
                            <div class="w-1 bg-white/50 rounded-sm animate-bar-3 group-hover:bg-orange-500"></div>
                            <div class="w-1 bg-white/50 rounded-sm animate-bar-4 group-hover:bg-orange-500"></div>
                        </div>
                    </div>
                    
                    <div class="mt-6">
                        <div class="w-full h-32 bg-neutral-900/50 rounded border border-white/5 relative overflow-hidden group-hover:border-orange-500/30 transition-colors">
                            <!-- Placeholder image for guitar/music, using a generic one or keeping the previous placeholder -->
                            <img src="foto gitar.jpeg" alt="Guitar" class="w-full h-full object-cover opacity-40 grayscale group-hover:grayscale-0 transition-all duration-700 hover:scale-110">
                            
                            <!-- Play Overlay -->
                            <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-black/20">
                                <div class="w-10 h-10 rounded-full bg-orange-500/90 flex items-center justify-center shadow-lg transform scale-0 group-hover:scale-100 transition-transform duration-300 delay-100">
                                    <i data-lucide="play" class="w-4 h-4 text-white fill-current ml-0.5"></i>
                                </div>
                            </div>
                        </div>
                        <div class="mt-3">
                            <h4 class="text-sm font-medium text-white group-hover:text-orange-400 transition-colors">Musician</h4>
                            <p class="text-xs text-neutral-500">Guitar & Drum Enthusiast</p>
                        </div>
                    </div>
                </div>

                <!-- Card 4: Stats / Organization (Optimized Cyber Deck Style) -->
                <div id="osis-card" class="group glass-card rounded-xl p-5 md:col-span-2 lg:col-span-1 relative overflow-hidden flex flex-col min-h-[240px] border border-white/10 hover:border-emerald-500/50 transition-all duration-300">
                    
                    <!-- Header -->
                    <div class="flex items-center justify-between z-10 mb-3">
                        <div class="flex items-center gap-2">
                            <div class="p-1.5 bg-emerald-500/10 rounded border border-emerald-500/30">
                                <i data-lucide="users" class="w-3 h-3 text-emerald-500"></i>
                            </div>
                            <div>
                                <h3 class="text-sm font-bold text-white tracking-wide">OSIS_ARCHIVE</h3>
                                <p class="text-[10px] text-neutral-500 uppercase">Ketua Angkatan</p>
                            </div>
                        </div>
                        <div class="flex gap-1">
                            <div class="w-1 h-1 bg-emerald-500 rounded-full animate-pulse"></div>
                            <div class="w-1 h-1 bg-emerald-500/30 rounded-full"></div>
                            <div class="w-1 h-1 bg-emerald-500/30 rounded-full"></div>
                        </div>
                    </div>

                    <!-- Main Display (The "Screen") -->
                    <div class="relative flex-1 bg-black/50 rounded border border-white/10 overflow-hidden group/screen cursor-pointer transition-all duration-500 ease-in-out" id="osis-viewer-trigger">
                        <!-- Content injected by JS -->
                    </div>

                    <!-- Controls -->
                    <div class="flex items-center justify-between z-10 mt-3 pt-3 border-t border-white/5">
                        <button id="osis-prev" class="p-1.5 hover:bg-white/10 rounded text-neutral-400 hover:text-white transition-colors"><i data-lucide="chevron-left" class="w-4 h-4"></i></button>
                        <div class="flex gap-1" id="osis-indicators">
                            <!-- Indicators injected by JS -->
                        </div>
                        <button id="osis-next" class="p-1.5 hover:bg-white/10 rounded text-neutral-400 hover:text-white transition-colors"><i data-lucide="chevron-right" class="w-4 h-4"></i></button>
                    </div>
                </div>

                <!-- Card 5: Tech Stack (Hybrid: Grid + Graph Toggle) -->
                <div id="skills" class="group glass-card rounded-xl p-6 md:col-span-2 lg:col-span-2 flex flex-col justify-between reveal-on-scroll relative overflow-hidden min-h-[280px]">
                    
                    <!-- Header with Toggle -->
                    <div class="flex justify-between items-start mb-4 z-20 relative">
                        <h3 class="text-lg font-medium text-white tracking-tight hacker-text" data-value="Tech Arsenal">Tech Arsenal</h3>
                        <button id="toggle-skill-view" class="p-1.5 rounded bg-white/5 hover:bg-white/10 border border-white/10 transition-colors text-xs flex items-center gap-2 text-neutral-400 hover:text-white group/btn">
                            <i data-lucide="network" class="w-3 h-3 group-hover/btn:text-emerald-500 transition-colors"></i>
                            <span id="skill-view-label">Graph View</span>
                            <span class="relative flex h-2 w-2 ml-1">
                                <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"></span>
                                <span class="relative inline-flex rounded-full h-2 w-2 bg-emerald-500"></span>
                            </span>
                        </button>
                    </div>

                    <!-- View 1: Grid (Default - Clear & Readable) -->
                    <div id="skill-grid" class="grid grid-cols-4 gap-4 transition-opacity duration-300">
                        <div class="flex flex-col items-center gap-2 p-2 rounded hover:bg-white/5 transition-colors cursor-default" title="C#">
                            <i class="devicon-csharp-plain text-2xl text-neutral-300"></i>
                            <span class="text-xs">C#</span>
                        </div>
                        <div class="flex flex-col items-center gap-2 p-2 rounded hover:bg-white/5 transition-colors cursor-default" title="PHP">
                            <i class="devicon-php-plain text-2xl text-neutral-300"></i>
                            <span class="text-xs">PHP</span>
                        </div>
                        <div class="flex flex-col items-center gap-2 p-2 rounded hover:bg-white/5 transition-colors cursor-default" title="Laravel">
                            <i class="devicon-laravel-plain text-2xl text-neutral-300"></i>
                            <span class="text-xs">Laravel</span>
                        </div>
                        <div class="flex flex-col items-center gap-2 p-2 rounded hover:bg-white/5 transition-colors cursor-default" title="Dart">
                            <i class="devicon-dart-plain text-2xl text-neutral-300"></i>
                            <span class="text-xs">Dart</span>
                        </div>
                        <div class="flex flex-col items-center gap-2 p-2 rounded hover:bg-white/5 transition-colors cursor-default" title="Flutter">
                            <i class="devicon-flutter-plain text-2xl text-neutral-300"></i>
                            <span class="text-xs">Flutter</span>
                        </div>
                        <div class="flex flex-col items-center gap-2 p-2 rounded hover:bg-white/5 transition-colors cursor-default" title="Cyber Security">
                            <i data-lucide="shield" class="w-6 h-6 text-neutral-300"></i>
                            <span class="text-xs">Security</span>
                        </div>
                        <div class="flex flex-col items-center gap-2 p-2 rounded hover:bg-white/5 transition-colors cursor-default" title="Photography">
                            <i data-lucide="camera" class="w-6 h-6 text-neutral-300"></i>
                            <span class="text-xs">Photo</span>
                        </div>
                        <div class="flex flex-col items-center gap-2 p-2 rounded hover:bg-white/5 transition-colors cursor-default" title="English">
                            <i data-lucide="languages" class="w-6 h-6 text-neutral-300"></i>
                            <span class="text-xs">English</span>
                        </div>
                    </div>

                    <!-- View 2: Graph (Hidden by default) -->
                    <div id="skill-graph-container" class="absolute inset-0 top-14 bg-neutral-900/90 backdrop-blur-sm z-10 opacity-0 pointer-events-none transition-opacity duration-300">
                        <div id="skill-graph" class="w-full h-full cursor-move"></div>
                    </div>
                </div>

                <!-- Card 6: TimelessProject (Startup) -->
                <div id="project-timeless" class="group glass-card rounded-xl p-6 md:col-span-3 lg:col-span-2 relative overflow-hidden flex flex-col justify-between min-h-[240px] reveal-on-scroll cursor-pointer hover:border-emerald-500/30 transition-all holo-card">
                     <div class="holo-shine"></div>
                     <div class="absolute inset-0">
                        <img src="timelessbackground.jpeg" alt="TimelessProject" class="w-full h-full object-cover opacity-40 group-hover:opacity-60 transition-opacity duration-500">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/50 to-transparent"></div>
                     </div>
                     
                     <div class="relative z-10 h-full flex flex-col justify-between holo-content">
                        <div class="flex items-center gap-2 mb-4">
                            <div class="p-1.5 bg-pink-500/20 rounded border border-pink-500/30">
                                <i data-lucide="rocket" class="w-4 h-4 text-pink-500"></i>
                            </div>
                            <span class="text-xs font-medium text-white tracking-wide uppercase">Startup</span>
                        </div>
                        <div>
                            <h3 class="text-lg font-medium text-white tracking-tight">TimelessProject <span class="redacted-text ml-2 text-xs align-middle">CONFIDENTIAL</span></h3>
                            <p class="text-sm text-neutral-300 mt-2 leading-relaxed">
                                Startup industri kreatif yang fokus pada konten visual dan kolaborasi komunitas. Menggabungkan estetika dan dampak.
                            </p>
                        </div>
                     </div>
                </div>

                <!-- Card 7: Brute Force Visualizer (New) -->
                <div class="group glass-card rounded-xl p-6 md:col-span-3 lg:col-span-2 relative overflow-hidden flex flex-col reveal-on-scroll">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center gap-2">
                            <i data-lucide="lock" class="w-4 h-4 text-red-500"></i>
                            <span class="text-xs font-medium text-white tracking-wide uppercase">Password Cracker</span>
                        </div>
                        <div class="text-[10px] font-mono text-neutral-500">BRUTE_FORCE_MODULE_V1</div>
                    </div>
                    
                    <div class="flex gap-2 mb-4">
                        <input type="text" id="bf-input" placeholder="Enter password..." class="bg-black/50 border border-white/10 rounded px-3 py-2 text-xs text-white w-full focus:border-red-500 outline-none font-mono placeholder:text-neutral-700">
                        <button id="bf-btn" class="bg-red-500/10 text-red-500 border border-red-500/30 px-3 rounded text-xs font-bold hover:bg-red-500 hover:text-white transition-all">CRACK</button>
                    </div>
                    
                    <div id="bf-display" class="bg-black rounded p-4 font-mono text-lg tracking-widest min-h-[60px] flex items-center justify-center text-neutral-600 border border-white/5 overflow-hidden break-all">
                        WAITING...
                    </div>
                    
                    <div class="mt-3 flex justify-between text-[10px] font-mono text-neutral-500">
                        <span>ATTEMPTS: <span id="bf-attempts" class="text-white">0</span></span>
                        <span>STATUS: <span id="bf-status" class="text-neutral-500">IDLE</span></span>
                    </div>
                </div>

                <!-- Card 8: ASCII Mirror (New) -->
                <div class="group glass-card rounded-xl p-0 md:col-span-3 lg:col-span-2 relative overflow-hidden flex flex-col reveal-on-scroll min-h-[250px]">
                    <div class="absolute top-0 left-0 right-0 p-4 z-10 flex justify-between items-start bg-gradient-to-b from-black/80 to-transparent">
                        <div>
                            <h3 class="text-xs font-bold text-white tracking-wide uppercase flex items-center gap-2">
                                <i data-lucide="camera" class="w-3 h-3 text-emerald-500"></i> CYBER_MIRROR
                            </h3>
                            <p class="text-[10px] text-neutral-500 font-mono">ASCII_RENDERER_V2.0</p>
                        </div>
                        <button id="toggle-cam-btn" class="px-2 py-1 bg-emerald-500/20 border border-emerald-500/50 rounded text-[10px] text-emerald-400 hover:bg-emerald-500 hover:text-white transition-colors">
                            INITIALIZE
                        </button>
                    </div>
                    
                    <div class="relative flex-grow bg-black w-full h-full overflow-hidden">
                        <div id="ascii-container" class="w-full h-full flex items-center justify-center text-emerald-500/80">
                            <span class="text-xs font-mono opacity-50">[ CAMERA FEED OFFLINE ]</span>
                        </div>
                        <video id="hidden-video" class="hidden" playsinline autoplay muted></video>
                        <canvas id="ascii-canvas" class="hidden"></canvas>
                    </div>
                </div>

                <!-- Card 9: Cyber Defense (Game) -->
                <div class="group glass-card rounded-xl p-6 md:col-span-3 lg:col-span-2 relative overflow-hidden flex flex-col justify-center items-center reveal-on-scroll border-blue-500/20 hover:border-blue-500/50 transition-colors">
                    <div class="absolute inset-0 bg-[repeating-linear-gradient(45deg,transparent,transparent_10px,rgba(59,130,246,0.05)_10px,rgba(59,130,246,0.05)_20px)]"></div>
                    
                    <div class="relative z-10 text-center">
                        <i data-lucide="shield-alert" class="w-8 h-8 text-blue-500 mx-auto mb-3 animate-pulse"></i>
                        <h3 class="text-sm font-bold text-white tracking-widest uppercase mb-1">SYSTEM DEFENSE</h3>
                        <p class="text-[10px] text-blue-400 font-mono mb-4">NEUTRALIZE INCOMING THREATS</p>
                        
                        <button id="start-game-btn" class="group relative px-6 py-3 bg-blue-500/10 border border-blue-500 text-blue-500 font-bold text-xs tracking-widest uppercase rounded hover:bg-blue-500 hover:text-white transition-all overflow-hidden">
                            <span class="relative z-10">ENGAGE PROTOCOL</span>
                            <div class="absolute inset-0 bg-blue-600 transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-300"></div>
                        </button>
                    </div>
                </div>

                <!-- Card 11: Sonic Synth Pad -->
                <div class="group glass-card rounded-xl p-6 md:col-span-3 lg:col-span-2 relative overflow-hidden flex flex-col reveal-on-scroll border-purple-500/20 hover:border-purple-500/50 transition-colors">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center gap-2">
                            <i data-lucide="music" class="w-4 h-4 text-purple-500"></i>
                            <span class="text-xs font-medium text-white tracking-wide uppercase">SONIC_SYNTH</span>
                        </div>
                        <div class="text-[10px] font-mono text-neutral-500">AUDIO_API_ACTIVE</div>
                    </div>
                    
                    <div class="synth-grid flex-1 min-h-[120px]">
                        <!-- Drum Row -->
                        <button class="synth-btn" data-sound="kick" title="Kick Drum">KICK</button>
                        <button class="synth-btn" data-sound="snare" title="Snare Drum">SNARE</button>
                        <button class="synth-btn" data-sound="hihat" title="Hi-Hat">HIHAT</button>
                        <button class="synth-btn" data-sound="clap" title="Clap">CLAP</button>
                        
                        <!-- Synth Row -->
                        <button class="synth-btn" data-sound="note" data-freq="261.63" title="C4">C4</button>
                        <button class="synth-btn" data-sound="note" data-freq="329.63" title="E4">E4</button>
                        <button class="synth-btn" data-sound="note" data-freq="392.00" title="G4">G4</button>
                        <button class="synth-btn" data-sound="note" data-freq="523.25" title="C5">C5</button>
                    </div>
                    <p class="text-[10px] text-neutral-600 font-mono mt-2 text-center">CLICK TO GENERATE WAVES</p>
                </div>

                 <!-- Card 10: Other Achievements List -->
                 <div class="group glass-card rounded-xl p-6 md:col-span-3 lg:col-span-4 relative overflow-hidden flex flex-col reveal-on-scroll">
                    <h3 class="text-lg font-medium text-white tracking-tight mb-4 hacker-text" data-value="Prestasi Lainnya">Prestasi Lainnya</h3>
                    <ul class="space-y-3 text-sm text-neutral-400">
                        <li class="flex items-start gap-2">
                            <i data-lucide="medal" class="w-4 h-4 text-yellow-500 mt-0.5 flex-shrink-0"></i>
                            <span>Everest Taekwondo Championship 2023 (Medali Perak)</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i data-lucide="briefcase" class="w-4 h-4 text-blue-500 mt-0.5 flex-shrink-0"></i>
                            <span>Finalis Jak Bee Business Plan (2024 & 2025)</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i data-lucide="globe" class="w-4 h-4 text-emerald-500 mt-0.5 flex-shrink-0"></i>
                            <span>Student Exchange 2025 (Singapura)</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i data-lucide="users" class="w-4 h-4 text-purple-500 mt-0.5 flex-shrink-0"></i>
                            <span>Finalis Duta GenRe 2025</span>
                        </li>
                    </ul>
               </div>

            </section>

            <!-- Gallery Section -->
            <section id="gallery" class="border-t border-white/10 pt-16">
                <h2 class="text-2xl font-medium text-white tracking-tight mb-8 reveal-on-scroll hacker-text" data-value="Dokumentasi">Dokumentasi</h2>
                <div class="grid md:grid-cols-3 gap-6">
                    <div class="group glass-card rounded-xl overflow-hidden relative aspect-[4/3] cursor-pointer gallery-trigger reveal-on-scroll">
                        <img src="wilayah.jpeg" alt="Juara Wilayah" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-6">
                            <p class="text-white font-medium">Juara Wilayah</p>
                        </div>
                    </div>
                    <div class="group glass-card rounded-xl overflow-hidden relative aspect-[4/3] cursor-pointer gallery-trigger reveal-on-scroll">
                        <img src="provinsi.jpeg" alt="Juara Provinsi" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-6">
                            <p class="text-white font-medium">Juara Provinsi</p>
                        </div>
                    </div>
                    <div class="group glass-card rounded-xl overflow-hidden relative aspect-[4/3] cursor-pointer gallery-trigger reveal-on-scroll">
                        <img src="nasional.jpeg" alt="Medali Perunggu Nasional" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-6">
                            <p class="text-white font-medium">Medali Perunggu Nasional</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Education Section (Sequencer Style) -->
            <section id="education" class="border-t border-white/10 pt-16">
                <h2 class="text-2xl font-medium text-white tracking-tight mb-8 reveal-on-scroll hacker-text" data-value="Pendidikan & Timeline">Pendidikan & Timeline</h2>
                
                <div class="sequencer-wrapper reveal-on-scroll">
                    <div class="seq-header">
                        <div class="w-[120px] border-right border-[#333] bg-[#151515]"></div>
                        <div class="seq-ruler">
                            <div class="seq-marker">2010</div>
                            <div class="seq-marker">2013</div>
                            <div class="seq-marker">2016</div>
                            <div class="seq-marker">2019</div>
                            <div class="seq-marker">2022</div>
                            <div class="seq-marker">2025</div>
                        </div>
                    </div>
                    
                    <div class="seq-body" id="seq-body">
                        <div class="seq-playhead" id="seq-playhead"></div>
                        
                        <!-- Track 1: Education -->
                        <div class="seq-track">
                            <div class="seq-track-info">
                                <i data-lucide="graduation-cap" class="w-3 h-3 mr-2 text-blue-400"></i> EDUCATION
                            </div>
                            <div class="seq-track-lane">
                                <div class="seq-clip bg-blue-500/20 border-blue-500/50" style="left: 5%; width: 15%;" title="SD Perguruan Rakyat 3">
                                    <span class="font-bold">SD PR 3</span>
                                </div>
                                <div class="seq-clip bg-blue-500/20 border-blue-500/50" style="left: 22%; width: 15%;" title="SMPN 97 Jakarta">
                                    <span class="font-bold">SMPN 97</span>
                                </div>
                                <div class="seq-clip bg-emerald-500/20 border-emerald-500/50" style="left: 40%; width: 20%;" title="SMKN 40 Jakarta (RPL)">
                                    <span class="font-bold text-emerald-400">SMKN 40 (RPL)</span>
                                </div>
                            </div>
                        </div>

                        <!-- Track 2: Achievements -->
                        <div class="seq-track">
                            <div class="seq-track-info">
                                <i data-lucide="trophy" class="w-3 h-3 mr-2 text-yellow-400"></i> AWARDS
                            </div>
                            <div class="seq-track-lane">
                                <div class="seq-clip bg-yellow-500/20 border-yellow-500/50" style="left: 45%; width: 5%;" title="Juara Wilayah">
                                    <i data-lucide="medal" class="w-3 h-3"></i>
                                </div>
                                <div class="seq-clip bg-yellow-500/20 border-yellow-500/50" style="left: 52%; width: 5%;" title="Juara Provinsi">
                                    <i data-lucide="medal" class="w-3 h-3"></i>
                                </div>
                                <div class="seq-clip bg-yellow-500/20 border-yellow-500/50" style="left: 58%; width: 5%;" title="Medali Perunggu Nasional">
                                    <i data-lucide="medal" class="w-3 h-3"></i>
                                </div>
                            </div>
                        </div>

                        <!-- Track 3: Experience -->
                        <div class="seq-track">
                            <div class="seq-track-info">
                                <i data-lucide="briefcase" class="w-3 h-3 mr-2 text-purple-400"></i> CAREER
                            </div>
                            <div class="seq-track-lane">
                                <div class="seq-clip bg-purple-500/20 border-purple-500/50" style="left: 55%; width: 10%;" title="Freelance Web Dev">
                                    <span>Freelance</span>
                                </div>
                                <div class="seq-clip bg-pink-500/20 border-pink-500/50" style="left: 66%; width: 15%;" title="Timeless Project (Founder)">
                                    <span class="text-pink-400">Timeless</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Contact Section -->
            <section id="contact" class="border-t border-white/10 pt-16 pb-8">
                <div class="grid md:grid-cols-2 gap-12">
                    <div class="reveal-on-scroll">
                        <h2 class="text-2xl font-medium text-white tracking-tight mb-4 hacker-text" data-value="Mari berkolaborasi.">Mari berkolaborasi.</h2>
                        <p class="text-neutral-500 mb-8 max-w-sm">Saya terbuka untuk kolaborasi, proyek, atau diskusi tentang teknologi dan musik.</p>
                        
                        <div class="flex gap-4">
                            <a href="mailto:rakhamuhammad191@gmail.com" class="w-10 h-10 rounded-full bg-white/5 border border-white/10 flex items-center justify-center hover:bg-white hover:text-black transition-all duration-300" title="Email">
                                <i data-lucide="mail" class="w-4 h-4"></i>
                            </a>
                            <a href="https://instagram.com/rakhakesatu" target="_blank" class="w-10 h-10 rounded-full bg-white/5 border border-white/10 flex items-center justify-center hover:bg-pink-600 hover:text-white hover:border-pink-600 transition-all duration-300" title="Instagram">
                                <i data-lucide="instagram" class="w-4 h-4"></i>
                            </a>
                            <a href="tel:082211599226" class="w-10 h-10 rounded-full bg-white/5 border border-white/10 flex items-center justify-center hover:bg-emerald-500 hover:text-white hover:border-emerald-500 transition-all duration-300" title="Telepon">
                                <i data-lucide="phone" class="w-4 h-4"></i>
                            </a>
                        </div>
                        
                        <div class="mt-8 space-y-2 text-sm text-neutral-400">
                            <p>Email: rakhamuhammad191@gmail.com</p>
                            <p>Telepon: 0822-1159-9226</p>
                        </div>
                    </div>
                    
                    <form class="space-y-4 reveal-on-scroll">
                        <div class="grid grid-cols-2 gap-4">
                            <div class="space-y-1">
                                <label class="text-xs font-medium text-neutral-400 ml-1">Nama</label>
                                <input id="contact-name" type="text" class="w-full bg-white/5 border border-white/10 rounded px-3 py-2 text-sm text-white focus:outline-none focus:border-white/30 focus:bg-white/10 transition-colors" placeholder="Nama Anda">
                            </div>
                            <div class="space-y-1">
                                <label class="text-xs font-medium text-neutral-400 ml-1">Email</label>
                                <input id="contact-email" type="email" class="w-full bg-white/5 border border-white/10 rounded px-3 py-2 text-sm text-white focus:outline-none focus:border-white/30 focus:bg-white/10 transition-colors" placeholder="email@contoh.com">
                            </div>
                        </div>
                        <div class="space-y-1 secure-input-wrapper">
                            <label class="text-xs font-medium text-neutral-400 ml-1">Pesan</label>
                            <textarea id="contact-message" rows="4" class="w-full bg-white/5 border border-white/10 rounded px-3 py-2 text-sm text-white focus:outline-none focus:border-white/30 focus:bg-white/10 transition-colors resize-none" placeholder="Ceritakan tentang proyek Anda..."></textarea>
                            <div id="secure-preview" class="secure-preview"></div>
                        </div>
                        <button id="send-whatsapp-btn" type="button" class="group relative w-full bg-white text-black font-medium py-2 rounded text-sm hover:bg-neutral-200 transition-all overflow-hidden">
                            <span class="relative z-10 flex items-center justify-center gap-2">
                                <span>Kirim Pesan</span>
                                <i data-lucide="send" class="w-3 h-3 group-hover:translate-x-1 transition-transform"></i>
                            </span>
                            <div id="send-progress" class="absolute inset-0 bg-emerald-500 transform -translate-x-full transition-transform duration-[2000ms] ease-linear"></div>
                        </button>
                    </form>
                </div>
            </section>

            <footer class="flex flex-col md:flex-row justify-between items-center text-xs text-neutral-600 pt-8 gap-4">
                <div class="flex flex-col gap-1">
                    <p>&copy; 2025 Muhammad Rakha. All rights reserved.</p>
                    <p class="text-[10px] text-neutral-700 font-mono cursor-help" title="Try the Konami Code!">HINT: ‚Üë‚Üë‚Üì‚Üì‚Üê‚Üí‚Üê‚ÜíBA</p>
                </div>
                <!-- CTF FLAG 1: CTF{H7ML_H1DD3N_G3M} -->
                <div class="flex items-center gap-4">
                    <canvas id="server-stats" width="100" height="20" class="opacity-50"></canvas>
                    <span>Designed with code</span>
                </div>
            </footer>
        </div>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // WhatsApp Logic
            const sendBtn = document.getElementById('send-whatsapp-btn');
            if (sendBtn) {
                sendBtn.addEventListener('click', async () => {
                    const name = document.getElementById('contact-name').value;
                    const email = document.getElementById('contact-email').value;
                    const message = document.getElementById('contact-message').value;

                    if (!name || !message) {
                        alert("Mohon isi nama dan pesan terlebih dahulu.");
                        if (typeof playUiSound === 'function') playUiSound('error');
                        return;
                    }

                    // Animation Elements
                    const progress = document.getElementById('send-progress');
                    const btnText = sendBtn.querySelector('span');
                    const originalText = btnText.innerHTML;

                    // Start Animation
                    if (typeof playUiSound === 'function') playUiSound('click');
                    sendBtn.disabled = true;
                    btnText.innerText = "Mengirim...";
                    
                    if (progress) {
                        progress.style.width = "0%";
                        progress.style.transition = "width 1.5s cubic-bezier(0.22, 1, 0.36, 1)";
                        
                        // Force reflow
                        void progress.offsetWidth; 
                        
                        progress.style.width = "100%";
                    }

                    // Wait for animation
                    await new Promise(r => setTimeout(r, 1500));

                    if (typeof playUiSound === 'function') playUiSound('success');
                    btnText.innerText = "Terkirim!";
                    
                    // Open WhatsApp
                    const phoneNumber = "6282211599226";
                    const text = `Halo Rakha, saya ${name} (${email}).\n\n${message}`;
                    const encodedText = encodeURIComponent(text);
                    const url = `https://wa.me/${phoneNumber}?text=${encodedText}`;

                    window.open(url, '_blank');

                    // Reset after delay
                    setTimeout(() => {
                        if (progress) {
                            progress.style.transition = "none";
                            progress.style.width = "0%";
                        }
                        btnText.innerHTML = originalText;
                        sendBtn.disabled = false;
                    }, 3000);
                });
            }

            // Initialize Lucide Icons
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }

            /* =========================================
               HOLOGRAPHIC ID LOGIC
               ========================================= */
            const holoWrapper = document.getElementById('lks-card') || document.getElementById('holo-card');
            
            if (holoWrapper) {
                const holoCard = holoWrapper.querySelector('.holo-content') || holoWrapper;
                const holoGlare = holoWrapper.querySelector('.holo-shine');

                holoWrapper.addEventListener('mousemove', (e) => {
                    const rect = holoWrapper.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    
                    const centerX = rect.width / 2;
                    const centerY = rect.height / 2;
                    
                    const rotateX = ((y - centerY) / centerY) * -10; // Max 10deg
                    const rotateY = ((x - centerX) / centerX) * 10; // Max 10deg
                    
                    if (holoCard) holoCard.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
                    
                    // Glare effect
                    if (holoGlare) {
                        holoGlare.style.opacity = '1';
                        holoGlare.style.transform = `translate(${x - centerX}px, ${y - centerY}px)`;
                    }
                });

                holoWrapper.addEventListener('mouseleave', () => {
                    if (holoCard) holoCard.style.transform = 'perspective(1000px) rotateX(0) rotateY(0)';
                    if (holoGlare) holoGlare.style.opacity = '0';
                });
            }

            /* =========================================
               SEQUENCER ANIMATION
               ========================================= */
            const playhead = document.getElementById('seq-playhead');
            if (playhead) {
                let playheadPos = 0;
                function animatePlayhead() {
                    playheadPos += 0.5;
                    if (playheadPos > 100) playheadPos = 0;
                    playhead.style.left = `${playheadPos}%`;
                    requestAnimationFrame(animatePlayhead);
                }
                animatePlayhead();
            }

            /* =========================================
               TERMINAL CHATBOT LOGIC
               ========================================= */
            // Extend existing commands
            const aiResponses = {
                "who is rakha": "Rakha is a Cyber Security Enthusiast and Musician based in Jakarta. He specializes in Network Security and Web Development.",
                "why cyber": "Because the digital world needs guardians. Plus, breaking things to fix them is fun.",
                "favorite band": "Classified information. But he enjoys high-tempo electronic beats and heavy bass.",
                "status": "System is ONLINE. All security protocols active.",
                "joke": "Why do programmers prefer dark mode? Because light attracts bugs."
            };

            // Hook into existing command processor (simple override for 'ask' command)
            // Note: This logic is integrated into the main terminal event listener below
            
            // --- TERMINAL LOGIC ---
            const cmdOverlay = document.getElementById('cmd-overlay');
            const openCmdBtn = document.getElementById('open-cmd-btn');
            const closeCmdBtn = document.getElementById('close-cmd');
            const closeCmdDot = document.getElementById('close-cmd-dot');
            const cmdInput = document.getElementById('cmd-input');
            const cmdOutput = document.getElementById('cmd-output');

            function openTerminal() {
                cmdOverlay.classList.remove('hidden');
                // Trigger reflow
                void cmdOverlay.offsetWidth;
                cmdOverlay.classList.remove('opacity-0');
                cmdInput.focus();
            }

            function closeTerminal() {
                cmdOverlay.classList.add('opacity-0');
                setTimeout(() => {
                    cmdOverlay.classList.add('hidden');
                }, 300);
            }

            if (openCmdBtn) openCmdBtn.addEventListener('click', openTerminal);
            if (closeCmdBtn) closeCmdBtn.addEventListener('click', closeTerminal);
            if (closeCmdDot) closeCmdDot.addEventListener('click', closeTerminal);

            // Close on background click
            cmdOverlay.addEventListener('click', (e) => {
                if (e.target === cmdOverlay) closeTerminal();
            });

            const commands = {
                help: "Available commands: help, about, skills, contact, clear, whoami, date, matrix, submit <flag>, hints",
                about: "Muhammad Rakha. Student at SMKN 40 Jakarta. Cyber Security Enthusiast. Musician.",
                skills: "Languages: PHP, C#, Dart, JS\nTools: Laravel, Flutter, Burp Suite, Nmap",
                contact: "Email: rakhamuhammad191@gmail.com\nPhone: 0822-1159-9226",
                whoami: "guest_user@internet",
                date: new Date().toString(),
                clear: "CLEAR",
                matrix: "MATRIX_EFFECT",
                hints: "CLASSIFIED INTEL:\n1. [HTML] The foundation lies beneath the footer.\n2. [CONSOLE] Developers speak in logs (F12).\n3. [ADMIN] Only the system administrator knows the final code."
            };

            const validFlags = {
                'CTF{H7ML_H1DD3N_G3M}': 'html_hunter',
                'CTF{C0NS0L3_L0G}': 'console_cowboy',
                'CTF{R4KH4_4DM1N}': 'admin_access'
            };

            cmdInput.addEventListener('keydown', (e) => {
                if (e.key === 'Enter') {
                    const inputRaw = cmdInput.value.trim();
                    const inputParts = inputRaw.split(' ');
                    const command = inputParts[0].toLowerCase();
                    const arg = inputParts[1];

                    if (inputRaw) {
                        // Add input line
                        const inputLine = document.createElement('div');
                        inputLine.innerHTML = `<span class="text-green-500">‚ûú</span> <span class="text-blue-400">~</span> <span class="text-white">${inputRaw}</span>`;
                        cmdOutput.appendChild(inputLine);

                        // Process command
                        if (command === 'submit') {
                            if (validFlags[arg]) {
                                const response = document.createElement('div');
                                response.className = "text-yellow-400 mb-2 font-bold";
                                response.textContent = `[+] FLAG ACCEPTED: ${arg}`;
                                cmdOutput.appendChild(response);
                                showAchievement(validFlags[arg]);
                            } else {
                                const response = document.createElement('div');
                                response.className = "text-red-400 mb-2";
                                response.textContent = `[-] INVALID FLAG: ${arg || 'No flag provided'}`;
                                cmdOutput.appendChild(response);
                            }
                        } else if (command === 'ask') {
                            // Chatbot Logic
                            const query = inputParts.slice(1).join(' ').toLowerCase();
                            let reply = "I'm sorry, I don't have data on that. Try: 'who is rakha', 'why cyber', 'favorite band', 'status', 'joke'.";
                            
                            if (aiResponses[query]) {
                                reply = aiResponses[query];
                            } else {
                                // Fuzzy match attempt
                                for (const key in aiResponses) {
                                    if (query.includes(key)) {
                                        reply = aiResponses[key];
                                        break;
                                    }
                                }
                            }
                            
                            const response = document.createElement('div');
                            response.className = "text-cyan-400 mb-2 font-mono";
                            response.innerHTML = `<span class="text-purple-400">[AI_RAKHA]:</span> ${reply}`;
                            cmdOutput.appendChild(response);

                        } else if (commands[command]) {
                            if (commands[command] === "CLEAR") {
                                cmdOutput.innerHTML = '';
                            } else if (commands[command] === "MATRIX_EFFECT") {
                                const msg = document.createElement('div');
                                msg.className = "text-green-400 mb-2";
                                msg.textContent = "Wake up, Neo...";
                                cmdOutput.appendChild(msg);
                                activateMatrixMode();
                            } else {
                                const response = document.createElement('div');
                                response.className = "text-neutral-300 mb-2 whitespace-pre-wrap";
                                response.textContent = commands[command];
                                cmdOutput.appendChild(response);
                            }
                        } else {
                            const error = document.createElement('div');
                            error.className = "text-red-400 mb-2";
                            error.textContent = `Command not found: ${command}. Type 'help' for list.`;
                            cmdOutput.appendChild(error);
                        }
                        
                        cmdInput.value = '';
                        cmdOutput.scrollTop = cmdOutput.scrollHeight;
                    }
                }
            });

            // --- EASTER EGGS ---
            // 1. Console Message
            console.log("%c STOP! ", "color: red; font-size: 50px; font-weight: bold; text-shadow: 2px 2px black;");
            console.log("%c You found the developer tools. If you're looking for bugs, I hope you don't find any! ", "color: #10b981; font-size: 16px;");
            console.log("%c Pssst... here is a flag: CTF{C0NS0L3_L0G} ", "color: #3b82f6; font-size: 12px; background: #000; padding: 4px;");

            // 2. Konami Code
            const konamiCode = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a'];
            let konamiIndex = 0;

            document.addEventListener('keydown', (e) => {
                if (e.key === konamiCode[konamiIndex]) {
                    konamiIndex++;
                    if (konamiIndex === konamiCode.length) {
                        activateMatrixMode();
                        konamiIndex = 0;
                    }
                } else {
                    konamiIndex = 0;
                }
            });

            let matrixInterval;
            const matrixCanvas = document.getElementById('matrix-canvas');
            
            window.activateMatrixMode = function() {
                if (!matrixCanvas) return;
                
                // Toggle State
                const isActive = matrixCanvas.style.opacity === '1';
                
                if (isActive) {
                    // Deactivate
                    matrixCanvas.style.opacity = '0';
                    clearInterval(matrixInterval);
                    document.body.style.fontFamily = "";
                    return;
                }

                // Activate
                matrixCanvas.style.opacity = '1';
                document.body.style.fontFamily = "'Courier New', monospace";
                
                const ctx = matrixCanvas.getContext('2d');
                matrixCanvas.width = window.innerWidth;
                matrixCanvas.height = window.innerHeight;

                const katakana = '„Ç¢„Ç°„Ç´„Çµ„Çø„Éä„Éè„Éû„É§„É£„É©„ÉØ„Ç¨„Ç∂„ÉÄ„Éê„Éë„Ç§„Ç£„Ç≠„Ç∑„ÉÅ„Éã„Éí„Éü„É™„É∞„ÇÆ„Ç∏„ÉÇ„Éì„Éî„Ç¶„Ç•„ÇØ„Çπ„ÉÑ„Éå„Éï„É†„É¶„É•„É´„Ç∞„Ç∫„Éñ„ÉÖ„Éó„Ç®„Çß„Ç±„Çª„ÉÜ„Éç„Éò„É°„É¨„É±„Ç≤„Çº„Éá„Éô„Éö„Ç™„Ç©„Ç≥„ÇΩ„Éà„Éé„Éõ„É¢„É®„Éß„É≠„É≤„Ç¥„Çæ„Éâ„Éú„Éù„É¥„ÉÉ„É≥';
                const latin = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
                const nums = '0123456789';
                const alphabet = katakana + latin + nums;

                const fontSize = 16;
                const columns = matrixCanvas.width / fontSize;

                const rainDrops = [];
                for(let x = 0; x < columns; x++) {
                    rainDrops[x] = 1;
                }

                const draw = () => {
                    ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
                    ctx.fillRect(0, 0, matrixCanvas.width, matrixCanvas.height);

                    ctx.fillStyle = '#0F0';
                    ctx.font = fontSize + 'px monospace';

                    for(let i = 0; i < rainDrops.length; i++) {
                        const text = alphabet.charAt(Math.floor(Math.random() * alphabet.length));
                        ctx.fillText(text, i * fontSize, rainDrops[i] * fontSize);

                        if(rainDrops[i] * fontSize > matrixCanvas.height && Math.random() > 0.975){
                            rainDrops[i] = 0;
                        }
                        rainDrops[i]++;
                    }
                };

                clearInterval(matrixInterval);
                matrixInterval = setInterval(draw, 30);
                
                // Handle Resize
                window.addEventListener('resize', () => {
                    matrixCanvas.width = window.innerWidth;
                    matrixCanvas.height = window.innerHeight;
                });
            };

            // --- CUSTOM CONTEXT MENU ---
            const contextMenu = document.getElementById('context-menu');
            
            document.addEventListener('contextmenu', (e) => {
                e.preventDefault();
                const x = e.clientX;
                const y = e.clientY;
                
                // Adjust if menu goes off screen
                const menuWidth = 200;
                const menuHeight = 150;
                const winWidth = window.innerWidth;
                const winHeight = window.innerHeight;
                
                const finalX = x + menuWidth > winWidth ? x - menuWidth : x;
                const finalY = y + menuHeight > winHeight ? y - menuHeight : y;

                contextMenu.style.left = `${finalX}px`;
                contextMenu.style.top = `${finalY}px`;
                contextMenu.style.display = 'block';
            });

            document.addEventListener('click', () => {
                contextMenu.style.display = 'none';
            });

            // --- IP INTEL WIDGET ---
            async function fetchIPIntel() {
                const widget = document.getElementById('ip-widget');
                const header = document.getElementById('ip-header');
                const ipEl = document.getElementById('user-ip');
                const locEl = document.getElementById('user-loc');
                const ispEl = document.getElementById('user-isp');
                const uaEl = document.getElementById('user-ua');

                // Toggle Minimize
                if (header) {
                    header.addEventListener('click', () => {
                        widget.classList.toggle('minimized');
                    });
                }

                // Show widget
                widget.style.display = 'block';
                
                // Re-init icons for the new chevron
                if (typeof lucide !== 'undefined') {
                    lucide.createIcons();
                }

                // Set User Agent immediately
                const platform = navigator.platform;
                uaEl.textContent = platform;

                try {
                    const response = await fetch('https://ipapi.co/json/');
                    const data = await response.json();
                    
                    // Simulate "Scanning" delay for effect
                    setTimeout(() => {
                        ipEl.textContent = data.ip;
                        locEl.textContent = `${data.city}, ${data.country_code}`;
                        ispEl.textContent = data.org;
                    }, 1000);
                } catch (error) {
                    ipEl.textContent = "HIDDEN";
                    locEl.textContent = "UNKNOWN";
                }
            }
            
            // Call after a slight delay
            setTimeout(fetchIPIntel, 2000);

            // --- OSIS ARCHIVE LOGIC (GROUPED & ANIMATED) ---
            const osisSlides = [
                { 
                    type: 'landscape', 
                    images: [{ src: "foto osis/DSC09381.JPG", label: "OSIS" }] 
                },
                        { 
                    type: 'portrait-group', 
                    images: [
                        { src: "foto osis/IMG_6000.JPG", label: "BAND" },
                        { src: "foto osis/IMG_6006.JPG", label: "DOKUMENTASI" }
                    ]
                },
                { 
                    type: 'portrait', 
                    images: [{ src: "foto osis/IMG_6136.JPG", label: "KEGIATAN_LAIN" }] 
                }
            ];
            let osisIndex = 0;
            
            const osisViewer = document.getElementById('osis-viewer-trigger');
            const osisNext = document.getElementById('osis-next');
            const osisPrev = document.getElementById('osis-prev');
            const osisIndicators = document.getElementById('osis-indicators');

            function updateOsisDisplay() {
                if (!osisViewer) return;
                
                // Animate Out
                osisViewer.style.opacity = '0';
                osisViewer.style.transform = 'scale(0.98)';
                
                setTimeout(() => {
                    // Clear current content
                    osisViewer.innerHTML = '';
                    const slide = osisSlides[osisIndex];
                    
                    // Create Content Container
                    const contentDiv = document.createElement('div');
                    contentDiv.className = "w-full h-full flex gap-0.5 transition-all duration-500";
                    
                    slide.images.forEach(imgData => {
                        const imgWrapper = document.createElement('div');
                        // If group, width is 50%, else 100%
                        imgWrapper.className = slide.images.length > 1 ? "w-1/2 h-full relative overflow-hidden group/img" : "w-full h-full relative overflow-hidden group/img";
                        
                        const img = document.createElement('img');
                        img.src = imgData.src;
                        img.className = "w-full h-full object-cover opacity-80 group-hover/img:opacity-100 transition-all duration-700 group-hover/img:scale-110";
                        
                        // Click to open lightbox
                        imgWrapper.addEventListener('click', (e) => {
                            e.stopPropagation();
                            openLightbox(imgData.src, imgData.label);
                        });

                        imgWrapper.appendChild(img);
                        contentDiv.appendChild(imgWrapper);
                    });

                    // Overlay UI
                    const overlay = document.createElement('div');
                    overlay.className = "absolute inset-0 bg-gradient-to-t from-black/90 via-transparent to-transparent flex flex-col justify-end p-3 pointer-events-none";
                    
                    const labelText = slide.images.map(i => i.label).join(' & ');
                    
                    overlay.innerHTML = `
                        <div class="flex justify-between items-end">
                            <div>
                                <p class="text-[10px] text-neutral-500 mb-0.5">FILE_NAME:</p>
                                <p class="text-xs font-mono text-emerald-400 font-bold truncate max-w-[150px]">${labelText}</p>
                            </div>
                            <i data-lucide="maximize-2" class="w-3 h-3 text-white/50"></i>
                        </div>
                    `;
                    
                    // Scanline
                    const scanline = document.createElement('div');
                    scanline.className = "absolute inset-0 bg-[linear-gradient(transparent_2px,rgba(0,0,0,0.5)_2px)] bg-[length:100%_4px] pointer-events-none opacity-20";

                    osisViewer.appendChild(contentDiv);
                    osisViewer.appendChild(overlay);
                    osisViewer.appendChild(scanline);
                    
                    // Re-init icons
                    if (typeof lucide !== 'undefined') lucide.createIcons();

                    // Animate In
                    osisViewer.style.opacity = '1';
                    osisViewer.style.transform = 'scale(1)';
                    
                    // Update indicators
                    if (osisIndicators) {
                        Array.from(osisIndicators.children).forEach((dot, i) => {
                            if (i === osisIndex) {
                                dot.className = "w-2 h-2 bg-emerald-500 rounded-full transition-all shadow-[0_0_10px_rgba(16,185,129,0.5)]";
                            } else {
                                dot.className = "w-1.5 h-1.5 bg-white/10 rounded-full transition-all hover:bg-white/30";
                            }
                        });
                    }
                }, 300);
            }

            function initIndicators() {
                if (!osisIndicators) return;
                osisIndicators.innerHTML = '';
                osisSlides.forEach((_, i) => {
                    const dot = document.createElement('div');
                    dot.className = "w-1.5 h-1.5 bg-white/10 rounded-full cursor-pointer";
                    dot.addEventListener('click', () => {
                        osisIndex = i;
                        updateOsisDisplay();
                    });
                    osisIndicators.appendChild(dot);
                });
            }

            if (osisNext && osisPrev) {
                osisNext.addEventListener('click', (e) => {
                    e.stopPropagation();
                    osisIndex = (osisIndex + 1) % osisSlides.length;
                    updateOsisDisplay();
                });

                osisPrev.addEventListener('click', (e) => {
                    e.stopPropagation();
                    osisIndex = (osisIndex - 1 + osisSlides.length) % osisSlides.length;
                    updateOsisDisplay();
                });
            }

            // Initialize
            if (osisSlides.length > 0) {
                initIndicators();
                updateOsisDisplay();
            }

            // Typing Effect Logic
            const textToType = "Cyber Security Enthusiast & Developer";
            const typeWriterElement = document.getElementById('typewriter-text');
            let typeIndex = 0;

            function typeWriter() {
                if (typeIndex < textToType.length) {
                    typeWriterElement.textContent += textToType.charAt(typeIndex);
                    typeIndex++;
                    setTimeout(typeWriter, 50 + Math.random() * 50); // Random typing speed
                }
            }
            
            // Intro Sequence Logic
            const introOverlay = document.getElementById('intro-overlay');
            const introTerminal = document.getElementById('intro-terminal');
            const breachAlert = document.getElementById('breach-alert');
            const fixBtn = document.getElementById('fix-btn');
            
            // Alert Sound
            const alertSound = new Audio('alert-369027.mp3');
            alertSound.loop = true;

            const breachLogs = [
                "Connecting to target...",
                "Bypassing firewall...",
                "Injecting SQL payload...",
                "Root access: GRANTED",
                "Downloading private_photos.zip...",
                "Installing keylogger...",
                "Overheating CPU...",
                "CRITICAL ERROR: SYSTEM COMPROMISED"
            ];

            const fixLogs = [
                "Initiating counter-measures...",
                "Isolating malware...",
                "Patching kernel vulnerability...",
                "Restoring firewall...",
                "Encrypting data stream...",
                "System secure.",
                "Redirecting to safe environment..."
            ];

            async function typeLog(text, color = '#0f0', speed = 50) {
                const p = document.createElement('div');
                p.style.color = color;
                p.textContent = '> ' + text;
                introTerminal.appendChild(p);
                introTerminal.scrollTop = introTerminal.scrollHeight;
                await new Promise(r => setTimeout(r, speed));
            }

            async function runIntro() {
                // Check if intro has run in this session
                if (sessionStorage.getItem('introShown')) {
                    introOverlay.remove();
                    document.body.classList.remove('overflow-hidden');
                    setTimeout(typeWriter, 500);
                    return;
                }
                sessionStorage.setItem('introShown', 'true');

                // Phase 1: Breach
                for (const log of breachLogs) {
                    await typeLog(log, '#0f0', 300);
                }
                
                // Show Alert
                breachAlert.style.display = 'block';
                try {
                    await alertSound.play();
                } catch (err) {
                    console.log("Autoplay prevented:", err);
                }
                
                // Wait for user interaction
                fixBtn.addEventListener('click', async () => {
                    alertSound.pause();
                    alertSound.currentTime = 0;
                    breachAlert.style.display = 'none';
                    
                    // Phase 2: Fix
                    for (const log of fixLogs) {
                        await typeLog(log, '#3b82f6', 400); // Blue text for fixing
                    }
                    
                    await new Promise(r => setTimeout(r, 1000));
                    
                    // Phase 3: Reveal
                    introOverlay.style.transition = 'opacity 1s';
                    introOverlay.style.opacity = '0';
                    document.body.classList.remove('overflow-hidden'); // Enable scrolling
                    
                    setTimeout(() => {
                        introOverlay.remove();
                        // Start main site animations
                        setTimeout(typeWriter, 500);
                        // Play Power Up Sound
                        if (typeof playUiSound === 'function') playUiSound('powerup');
                    }, 1000);
                });
            }

            // Start Intro
            runIntro();

            // Scroll Reveal Logic
            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.1
            };

            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                        observer.unobserve(entry.target); // Only animate once
                    }
                });
            }, observerOptions);

            document.querySelectorAll('.reveal-on-scroll').forEach(el => {
                observer.observe(el);
            });

            // Status Bar Logic
            function updateClock() {
                const now = new Date();
                const timeString = now.toLocaleTimeString('en-US', { hour12: false });
                const clockEl = document.getElementById('clock');
                if (clockEl) clockEl.textContent = timeString;
                
                // Random latency update for effect
                if(Math.random() > 0.7) {
                    const latencyEl = document.getElementById('latency');
                    if (latencyEl) latencyEl.textContent = Math.floor(Math.random() * 40 + 10) + 'ms';
                }
            }
            setInterval(updateClock, 1000);
            updateClock();

            // Custom Cursor Logic
            const cursor = document.createElement('div');
            cursor.classList.add('custom-cursor');
            document.body.appendChild(cursor);

            if (window.matchMedia("(pointer: fine)").matches) {
                document.addEventListener('mousemove', (e) => {
                    cursor.style.left = e.clientX + 'px';
                    cursor.style.top = e.clientY + 'px';
                });

                document.querySelectorAll('a, button, .gallery-trigger, .glass-card, input, textarea').forEach(el => {
                    el.addEventListener('mouseenter', () => cursor.classList.add('hovered'));
                    el.addEventListener('mouseleave', () => cursor.classList.remove('hovered'));
                });
            }

            // Hacker Text Effect
            const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()";
            document.querySelectorAll('.hacker-text').forEach(element => {
                element.addEventListener('mouseover', event => {
                    let iteration = 0;
                    const originalText = event.target.dataset.value;
                    clearInterval(event.target.interval);

                    event.target.interval = setInterval(() => {
                        event.target.innerText = originalText
                            .split("")
                            .map((letter, index) => {
                                if(index < iteration) {
                                    return event.target.dataset.value[index];
                                }
                                return letters[Math.floor(Math.random() * letters.length)];
                            })
                            .join("");

                        if(iteration >= event.target.dataset.value.length){ 
                            clearInterval(event.target.interval);
                        }
                        
                        iteration += 1 / 3;
                    }, 30);
                });
            });

            // Lightbox Logic
            const lightbox = document.getElementById('lightbox');
            const lightboxTerminal = document.getElementById('lightbox-terminal');
            const terminalLogs = document.getElementById('terminal-logs');
            const lightboxImg = document.getElementById('lightbox-img');
            const lightboxClose = document.getElementById('lightbox-close');
            
            // Initialize Vanta.js (Network Effect) - Optimized
            if (window.VANTA) {
                VANTA.NET({
                    el: "#vanta-bg",
                    mouseControls: true,
                    touchControls: true,
                    gyroControls: false,
                    minHeight: 200.00,
                    minWidth: 200.00,
                    scale: 1.00,
                    scaleMobile: 1.00,
                    color: 0x10b981,       // Emerald
                    backgroundColor: 0x0a0a0a, // Dark
                    points: 8.00,          // Reduced from 12
                    maxDistance: 18.00,    // Reduced from 22
                    spacing: 20.00,        // Increased spacing
                    showDots: false        // Hide dots to save performance
                });
            }

            // Initialize Custom 3D Object (Hero Section)
            function initHero3D() {
                const container = document.getElementById('hero-3d');
                if (!container) return;

                // Ensure container has dimensions
                let width = container.clientWidth;
                let height = container.clientHeight;

                if (width === 0 || height === 0) {
                    // Fallback if inset hasn't calculated yet
                    width = 350; 
                    height = 350;
                }

                const scene = new THREE.Scene();
                const camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);
                const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
                
                renderer.setSize(width, height);
                container.appendChild(renderer.domElement);

                // Create Geometry (Icosahedron - Cyber Core)
                const geometry = new THREE.IcosahedronGeometry(4.0, 0);
                const material = new THREE.MeshBasicMaterial({ 
                    color: 0x10b981, 
                    wireframe: true,
                    transparent: true,
                    opacity: 0.3
                });
                const sphere = new THREE.Mesh(geometry, material);
                scene.add(sphere);

                // Inner Core
                const innerGeo = new THREE.IcosahedronGeometry(2.5, 1);
                const innerMat = new THREE.MeshBasicMaterial({
                    color: 0x3b82f6, // Blue
                    wireframe: true,
                    transparent: true,
                    opacity: 0.5
                });
                const innerSphere = new THREE.Mesh(innerGeo, innerMat);
                scene.add(innerSphere);

                camera.position.z = 5;

                // Animation Loop
                function animate() {
                    requestAnimationFrame(animate);
                    
                    sphere.rotation.x += 0.002;
                    sphere.rotation.y += 0.002;
                    
                    innerSphere.rotation.x -= 0.005;
                    innerSphere.rotation.y -= 0.005;

                    renderer.render(scene, camera);
                }
                animate();

                // Handle Resize
                window.addEventListener('resize', () => {
                    const newWidth = container.clientWidth || 350;
                    const newHeight = container.clientHeight || 350;
                    camera.aspect = newWidth / newHeight;
                    camera.updateProjectionMatrix();
                    renderer.setSize(newWidth, newHeight);
                });
            }
            
            // Delay 3D init slightly to ensure layout is ready
            setTimeout(initHero3D, 100);

            let isAnimating = false;

            const hackLogs = [
                "Initializing handshake protocol...",
                "Bypassing proxy server...",
                "Authenticating user credentials...",
                "Accessing secure vault...",
                "Decrypting AES-256 stream...",
                "Fetching binary data...",
                "Rendering pixel matrix...",
                "Optimizing resolution...",
                "Verifying checksum...",
                "Connection established."
            ];

            function generateRandomHex() {
                return '0x' + Math.floor(Math.random()*16777215).toString(16).toUpperCase().padStart(6, '0');
            }

            function openLightbox(src, alt) {
                if (isAnimating) return;
                isAnimating = true;

                // Reset state
                lightbox.classList.remove('hidden');
                // Trigger reflow
                void lightbox.offsetWidth;
                lightbox.classList.remove('opacity-0');
                
                lightboxTerminal.classList.remove('hidden');
                lightboxImg.classList.add('hidden');
                lightboxImg.classList.remove('scale-100');
                lightboxImg.classList.add('scale-95');
                
                // Preload image
                lightboxImg.src = src;
                lightboxImg.alt = alt;
                
                // Clear logs
                terminalLogs.innerHTML = '';
                
                // Start Hacking Animation
                let step = 0;
                const maxSteps = 20; // More steps for drama
                const interval = setInterval(() => {
                    const p = document.createElement('p');
                    if (Math.random() > 0.6) {
                        p.textContent = `> ${hackLogs[Math.floor(Math.random() * hackLogs.length)]}`;
                        p.className = "text-green-400";
                    } else {
                        p.textContent = `> MEM_ADDR: ${generateRandomHex()} | DATA: ${generateRandomHex()} ${generateRandomHex()}`;
                        p.className = "text-green-600 opacity-70";
                    }
                    
                    terminalLogs.appendChild(p);
                    terminalLogs.scrollTop = terminalLogs.scrollHeight;
                    
                    step++;
                    
                    if (step >= maxSteps) {
                        clearInterval(interval);
                        
                        // Final Success Message
                        const success = document.createElement('p');
                        success.innerHTML = "<br>> ACCESS GRANTED. DISPLAYING ASSET...";
                        success.className = "text-white font-bold animate-pulse";
                        terminalLogs.appendChild(success);
                        terminalLogs.scrollTop = terminalLogs.scrollHeight;

                        setTimeout(() => {
                            lightboxTerminal.classList.add('hidden');
                            lightboxImg.classList.remove('hidden');
                            // Trigger reflow
                            void lightboxImg.offsetWidth;
                            lightboxImg.classList.remove('scale-95');
                            lightboxImg.classList.add('scale-100');
                            isAnimating = false;
                        }, 1000);
                    }
                }, 80); // Faster typing
            }

            function closeLightbox() {
                lightbox.classList.add('opacity-0');
                setTimeout(() => {
                    lightbox.classList.add('hidden');
                    lightboxImg.src = '';
                    terminalLogs.innerHTML = '';
                }, 300);
            }

            // Attach listeners using event delegation for better reliability
            document.addEventListener('click', function(e) {
                const trigger = e.target.closest('.gallery-trigger');
                if (trigger) {
                    const img = trigger.querySelector('img');
                    if (img) {
                        openLightbox(img.src, img.alt);
                    }
                }
            });

            if (lightboxClose) {
                lightboxClose.addEventListener('click', closeLightbox);
            }
            
            // Close on background click
            if (lightbox) {
                lightbox.addEventListener('click', (e) => {
                    if (e.target === lightbox) closeLightbox();
                });
            }

            // Close on Escape
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') closeLightbox();
            });

            /* =========================================
               ACHIEVEMENT SYSTEM
               ========================================= */
            const achievements = [
                { id: 'welcome', title: 'System Access', desc: 'Connected to the portfolio mainframe.', icon: 'wifi' },
                { id: 'terminal_master', title: 'Root Access', desc: 'Opened the command terminal.', icon: 'terminal' },
                { id: 'explorer', title: 'Data Miner', desc: 'Scrolled to the bottom of the page.', icon: 'database' },
                { id: 'security_breach', title: 'Security Breach', desc: 'Found the secret context menu.', icon: 'shield-alert' },
                { id: 'matrix_mode', title: 'The One', desc: 'Activated the Matrix protocol.', icon: 'code' },
                { id: 'html_hunter', title: 'Source Code Hunter', desc: 'Found the hidden HTML flag.', icon: 'file-code' },
                { id: 'console_cowboy', title: 'Console Cowboy', desc: 'Found the hidden Console flag.', icon: 'monitor' },
                { id: 'admin_access', title: 'Admin Access', desc: 'Cracked the ultimate code.', icon: 'lock' }
            ];

            const unlockedAchievements = JSON.parse(localStorage.getItem('rakha_achievements') || '[]');

            function updateFlagCount() {
                const flagIds = ['html_hunter', 'console_cowboy', 'admin_access'];
                const foundCount = unlockedAchievements.filter(id => flagIds.includes(id)).length;
                const flagCounter = document.getElementById('flag-counter');
                if (flagCounter) flagCounter.textContent = `FLAGS: ${foundCount}/3`;
            }

            function showAchievement(id) {
                if (unlockedAchievements.includes(id)) return;

                const achievement = achievements.find(a => a.id === id);
                if (!achievement) return;

                unlockedAchievements.push(id);
                localStorage.setItem('rakha_achievements', JSON.stringify(unlockedAchievements));
                
                // Update Flag Count if applicable
                updateFlagCount();

                const container = document.getElementById('achievement-container');
                const card = document.createElement('div');
                card.className = 'achievement-card glass-card border-l-4 border-emerald-500 p-4 rounded shadow-lg flex items-center gap-4 min-w-[300px]';
                card.innerHTML = `
                    <div class="bg-emerald-500/20 p-2 rounded-full">
                        <i data-lucide="${achievement.icon}" class="w-6 h-6 text-emerald-500"></i>
                    </div>
                    <div>
                        <h4 class="text-sm font-bold text-white uppercase tracking-wider">Achievement Unlocked</h4>
                        <p class="text-xs text-gray-300 font-mono">${achievement.title}</p>
                        <p class="text-[10px] text-gray-500">${achievement.desc}</p>
                    </div>
                `;

                container.appendChild(card);
                if (typeof lucide !== 'undefined') lucide.createIcons();

                // Animation
                requestAnimationFrame(() => {
                    card.classList.add('show');
                });

                // Remove after animation
                setTimeout(() => {
                    card.style.transform = 'translateX(120%)';
                    setTimeout(() => card.remove(), 500);
                }, 4000);
            }

            // Trigger Welcome Achievement
            setTimeout(() => showAchievement('welcome'), 3000);

            // Trigger Explorer Achievement (Scroll)
            window.addEventListener('scroll', () => {
                if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight - 100) {
                    showAchievement('explorer');
                }
            });

            // Hook into existing elements for achievements
            if (openCmdBtn) {
                openCmdBtn.addEventListener('click', () => showAchievement('terminal_master'));
            }
            
            document.addEventListener('contextmenu', () => showAchievement('security_breach'));

            // Hook into Matrix Mode (Konami Code)
            const kCode = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a'];
            let kIndex = 0;
            document.addEventListener('keydown', (e) => {
                if (e.key === kCode[kIndex]) {
                    kIndex++;
                    if (kIndex === kCode.length) {
                        showAchievement('matrix_mode');
                        kIndex = 0;
                    }
                } else {
                    kIndex = 0;
                }
            });

            /* =========================================
               LIVE THREAT MAP
               ========================================= */
            function initThreatMap() {
                const canvas = document.getElementById('threat-map');
                if (!canvas) return;
                
                const ctx = canvas.getContext('2d');
                let width, height;
                
                function resize() {
                    width = canvas.parentElement.offsetWidth;
                    height = canvas.parentElement.offsetHeight;
                    canvas.width = width;
                    canvas.height = height;
                }
                window.addEventListener('resize', resize);
                resize();

                const attacks = [];
                const attackCountElem = document.getElementById('attack-count');
                let totalAttacks = 0;

                class Attack {
                    constructor() {
                        this.reset();
                    }

                    reset() {
                        this.x = Math.random() * width;
                        this.y = Math.random() * height;
                        this.targetX = Math.random() * width;
                        this.targetY = Math.random() * height;
                        this.progress = 0;
                        this.speed = Math.random() * 0.01 + 0.005;
                        this.color = Math.random() > 0.8 ? '#ef4444' : '#10b981'; // Mostly Emerald, some Red
                        this.hasHit = false;
                    }

                    update() {
                        this.progress += this.speed;
                        if (this.progress >= 1) {
                            if (!this.hasHit) {
                                totalAttacks++;
                                if(attackCountElem) attackCountElem.innerText = totalAttacks;
                                this.hasHit = true;
                            }
                            this.reset();
                        }
                    }

                    draw() {
                        const currentX = this.x + (this.targetX - this.x) * this.progress;
                        const currentY = this.y + (this.targetY - this.y) * this.progress;
                        
                        // Draw Trail
                        const gradient = ctx.createLinearGradient(this.x, this.y, currentX, currentY);
                        gradient.addColorStop(0, 'rgba(0,0,0,0)');
                        gradient.addColorStop(1, this.color);
                        
                        ctx.beginPath();
                        ctx.strokeStyle = gradient;
                        ctx.lineWidth = 2;
                        ctx.moveTo(this.x, this.y);
                        ctx.lineTo(currentX, currentY);
                        ctx.stroke();

                        // Draw Head
                        ctx.beginPath();
                        ctx.fillStyle = '#fff';
                        ctx.arc(currentX, currentY, 1.5, 0, Math.PI * 2);
                        ctx.fill();
                        
                        // Draw Impact Ripple if close to target
                        if (this.progress > 0.95) {
                            ctx.beginPath();
                            ctx.strokeStyle = this.color;
                            ctx.lineWidth = 1;
                            ctx.arc(this.targetX, this.targetY, (this.progress - 0.95) * 200, 0, Math.PI * 2);
                            ctx.stroke();
                        }
                    }
                }

                // Create initial attacks
                for(let i = 0; i < 8; i++) {
                    setTimeout(() => attacks.push(new Attack()), i * 500);
                }

                function animate() {
                    ctx.fillStyle = 'rgba(0, 0, 0, 0.1)'; // Trail effect
                    ctx.fillRect(0, 0, width, height);

                    attacks.forEach(attack => {
                        attack.update();
                        attack.draw();
                    });

                    // Draw random static points (servers)
                    if (Math.random() > 0.9) {
                        const x = Math.random() * width;
                        const y = Math.random() * height;
                        ctx.fillStyle = 'rgba(16, 185, 129, 0.5)';
                        ctx.fillRect(x, y, 2, 2);
                    }

                    requestAnimationFrame(animate);
                }
                animate();
            }

            // Initialize Map
            initThreatMap();
            
            // Initialize Flag Count
            updateFlagCount();

            /* =========================================
               FEATURE 1: INTERACTIVE SKILL GRAPH (TOGGLEABLE)
               ========================================= */
            let networkInstance = null;
            const skillGrid = document.getElementById('skill-grid');
            const skillGraphContainer = document.getElementById('skill-graph-container');
            const toggleSkillBtn = document.getElementById('toggle-skill-view');
            const skillViewLabel = document.getElementById('skill-view-label');
            let isGraphView = false;

            function initSkillGraph() {
                const container = document.getElementById('skill-graph');
                if (!container) return;

                // Only init once
                if (networkInstance) return;

                const nodes = new vis.DataSet([
                    { id: 1, label: 'Rakha', color: '#10b981', size: 30, shape: 'dot', font: { color: '#fff', size: 16, face: 'JetBrains Mono' } },
                    { id: 2, label: 'PHP', color: '#3b82f6', shape: 'dot' },
                    { id: 3, label: 'Laravel', color: '#ef4444', shape: 'dot' },
                    { id: 4, label: 'C#', color: '#a855f7', shape: 'dot' },
                    { id: 5, label: 'Dart', color: '#06b6d4', shape: 'dot' },
                    { id: 6, label: 'Flutter', color: '#3b82f6', shape: 'dot' },
                    { id: 7, label: 'Security', color: '#10b981', shape: 'dot' },
                    { id: 8, label: 'Nmap', color: '#10b981', shape: 'dot' },
                    { id: 9, label: 'Burp', color: '#f97316', shape: 'dot' },
                    { id: 10, label: 'Photo', color: '#eab308', shape: 'dot' },
                    { id: 11, label: 'English', color: '#6366f1', shape: 'dot' }
                ]);

                const edges = new vis.DataSet([
                    { from: 1, to: 2 }, { from: 1, to: 4 }, { from: 1, to: 5 }, { from: 1, to: 7 }, { from: 1, to: 10 }, { from: 1, to: 11 },
                    { from: 2, to: 3 }, // PHP -> Laravel
                    { from: 5, to: 6 }, // Dart -> Flutter
                    { from: 7, to: 8 }, // Security -> Nmap
                    { from: 7, to: 9 }  // Security -> Burp
                ]);

                const data = { nodes: nodes, edges: edges };
                const options = {
                    nodes: {
                        borderWidth: 0,
                        font: { color: '#9ca3af', face: 'JetBrains Mono', size: 14 },
                        shadow: true
                    },
                    edges: {
                        color: { color: '#ffffff', opacity: 0.1 },
                        width: 1,
                        smooth: { type: 'continuous' }
                    },
                    physics: {
                        stabilization: false,
                        barnesHut: {
                            gravitationalConstant: -2000,
                            springConstant: 0.04,
                            springLength: 95
                        }
                    },
                    interaction: {
                        dragNodes: true,
                        zoomView: false,
                        dragView: false
                    }
                };

                networkInstance = new vis.Network(container, data, options);
            }

            if (toggleSkillBtn) {
                toggleSkillBtn.addEventListener('click', () => {
                    isGraphView = !isGraphView;
                    
                    if (isGraphView) {
                        // Show Graph
                        skillGrid.style.opacity = '0';
                        skillGrid.style.pointerEvents = 'none';
                        
                        skillGraphContainer.style.opacity = '1';
                        skillGraphContainer.style.pointerEvents = 'auto';
                        
                        skillViewLabel.textContent = "Grid View";
                        
                        // Init graph if first time
                        if (!networkInstance) initSkillGraph();
                    } else {
                        // Show Grid
                        skillGrid.style.opacity = '1';
                        skillGrid.style.pointerEvents = 'auto';
                        
                        skillGraphContainer.style.opacity = '0';
                        skillGraphContainer.style.pointerEvents = 'none';
                        
                        skillViewLabel.textContent = "Graph View";
                    }
                });
            }

            /* =========================================
               FEATURE 3: SECURE COMMS TYPING
               ========================================= */
            const msgInput = document.getElementById('contact-message');
            const securePreview = document.getElementById('secure-preview');
            
            if (msgInput && securePreview) {
                msgInput.addEventListener('input', (e) => {
                    const val = e.target.value;
                    if (!val) {
                        securePreview.textContent = '';
                        return;
                    }
                    
                    // Show "Encrypting..." state
                    const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";
                    let scrambled = "";
                    for(let i=0; i<Math.min(val.length, 20); i++) {
                        scrambled += chars.charAt(Math.floor(Math.random() * chars.length));
                    }
                    
                    securePreview.textContent = `ENCRYPTING: ${scrambled}...`;
                    
                    // "Decrypt" after pause
                    clearTimeout(msgInput.decryptTimeout);
                    msgInput.decryptTimeout = setTimeout(() => {
                        securePreview.textContent = `VERIFIED: ${val.substring(val.length - 15).padStart(val.length > 15 ? 18 : 0, '...')}`;
                        securePreview.classList.add('text-emerald-500');
                        setTimeout(() => securePreview.classList.remove('text-emerald-500'), 200);
                    }, 300);
                });
            }

            /* =========================================
               FEATURE 4: BOSS MODE (PANIC BUTTON)
               ========================================= */
            const bossMode = document.getElementById('boss-mode');
            const bossTableBody = bossMode.querySelector('tbody');
            
            // Generate fake rows
            for(let i=1; i<=20; i++) {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td style="background:#f3f3f3; text-align:center; color:#666;">${i}</td>
                    <td>${i === 1 ? 'Q1 Revenue' : Math.floor(Math.random()*10000)}</td>
                    <td>${i === 1 ? 'Expenses' : Math.floor(Math.random()*5000)}</td>
                    <td>${i === 1 ? 'Net Profit' : Math.floor(Math.random()*5000)}</td>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                `;
                bossTableBody.appendChild(tr);
            }

            document.addEventListener('keydown', (e) => {
                // Toggle on F9 or Escape (if boss mode is active)
                if (e.key === 'F9') {
                    if (bossMode.style.display === 'block') {
                        bossMode.style.display = 'none';
                        document.title = "Portfolio ‚Äî Muhammad Rakha";
                    } else {
                        bossMode.style.display = 'block';
                        document.title = "Annual_Budget_Report_2025.xlsx - Excel";
                    }
                } else if (e.key === 'Escape' && bossMode.style.display === 'block') {
                    bossMode.style.display = 'none';
                    document.title = "Portfolio ‚Äî Muhammad Rakha";
                }
            });
            
            // Add hint to console
            console.log("%c TIP: Press F9 for Boss Mode ", "color: #f59e0b; font-size: 12px; background: #000; padding: 4px;");

            /* =========================================
               NEW FEATURES: HOLO, REDACTED, BRUTE FORCE, STATS
               ========================================= */
            
            // 1. Holo Card Effect
            const holoCards = document.querySelectorAll('.holo-card');
            holoCards.forEach(card => {
                card.addEventListener('mousemove', (e) => {
                    const rect = card.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    
                    const centerX = rect.width / 2;
                    const centerY = rect.height / 2;
                    
                    const rotateX = ((y - centerY) / centerY) * -10; // Max 10deg
                    const rotateY = ((x - centerX) / centerX) * 10;
                    
                    card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
                    
                    const shine = card.querySelector('.holo-shine');
                    if (shine) {
                        shine.style.opacity = '1';
                        shine.style.background = `radial-gradient(circle at ${x}px ${y}px, rgba(255,255,255,0.2) 0%, transparent 60%)`;
                    }
                });
                
                card.addEventListener('mouseleave', () => {
                    card.style.transform = 'perspective(1000px) rotateX(0) rotateY(0)';
                    const shine = card.querySelector('.holo-shine');
                    if (shine) shine.style.opacity = '0';
                });
            });

            // 2. Redacted Toggle (via Context Menu)
            const ctxMenu = document.getElementById('context-menu');
            if (ctxMenu) {
                const hr = ctxMenu.querySelector('.ctx-hr');
                const toggleItem = document.createElement('div');
                toggleItem.className = 'ctx-item';
                toggleItem.innerHTML = '<i data-lucide="eye" class="w-3 h-3"></i> TOGGLE_REDACTED';
                toggleItem.onclick = () => {
                    document.body.classList.toggle('redacted-reveal');
                };
                ctxMenu.insertBefore(toggleItem, hr);
            }

            // 3. Brute Force Visualizer
            const bfInput = document.getElementById('bf-input');
            const bfBtn = document.getElementById('bf-btn');
            const bfDisplay = document.getElementById('bf-display');
            const bfAttempts = document.getElementById('bf-attempts');
            const bfStatus = document.getElementById('bf-status');
            
            if (bfBtn && bfInput) {
                bfBtn.addEventListener('click', () => {
                    const target = bfInput.value;
                    if (!target) return;
                    
                    bfStatus.textContent = "CRACKING...";
                    bfStatus.className = "text-red-500 animate-pulse";
                    bfDisplay.innerHTML = '';
                    
                    const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*";
                    let attempts = 0;
                    let current = "";
                    let index = 0;
                    
                    // Create spans for each char
                    for(let i=0; i<target.length; i++) {
                        const span = document.createElement('span');
                        span.className = 'bf-char';
                        span.textContent = '*';
                        bfDisplay.appendChild(span);
                    }
                    
                    const spans = bfDisplay.querySelectorAll('.bf-char');
                    
                    const interval = setInterval(() => {
                        attempts += Math.floor(Math.random() * 1000);
                        bfAttempts.textContent = attempts.toLocaleString();
                        
                        // Randomize remaining chars
                        for(let i=index; i<target.length; i++) {
                            spans[i].textContent = chars.charAt(Math.floor(Math.random() * chars.length));
                            spans[i].style.color = '#666';
                        }
                        
                        // Crack current char
                        if (Math.random() > 0.8) {
                            spans[index].textContent = target[index];
                            spans[index].className = 'bf-char bf-cracked';
                            index++;
                        }
                        
                        if (index >= target.length) {
                            clearInterval(interval);
                            bfStatus.textContent = "SUCCESS";
                            bfStatus.className = "text-emerald-500";
                        }
                    }, 50);
                });
            }

            // 4. Footer Server Stats
            const statsCanvas = document.getElementById('server-stats');
            if (statsCanvas) {
                const ctx = statsCanvas.getContext('2d');
                const data = new Array(20).fill(10);
                
                function drawStats() {
                    // Shift data
                    data.shift();
                    data.push(Math.random() * 15 + 2); // Random height
                    
                    ctx.clearRect(0, 0, 100, 20);
                    ctx.beginPath();
                    ctx.moveTo(0, 20 - data[0]);
                    
                    for(let i=1; i<data.length; i++) {
                        ctx.lineTo(i * 5, 20 - data[i]);
                    }
                    
                    ctx.strokeStyle = '#10b981';
                    ctx.lineWidth = 1;
                    ctx.stroke();
                    
                    requestAnimationFrame(drawStats);
                }
                drawStats();
            }

            /* =========================================
               NEW FEATURES: ASCII CAM & SELF DESTRUCT
               ========================================= */
            
            // 1. ASCII Camera
            const asciiContainer = document.getElementById('ascii-container');
            const hiddenVideo = document.getElementById('hidden-video');
            const asciiCanvas = document.getElementById('ascii-canvas');
            const toggleCamBtn = document.getElementById('toggle-cam-btn');
            let isCamActive = false;
            let asciiInterval;
            
            const density = "√ë@#W$9876543210?!abc;:+=-,._ ";

            if (toggleCamBtn) {
                toggleCamBtn.addEventListener('click', async () => {
                    if (!isCamActive) {
                        try {
                            const stream = await navigator.mediaDevices.getUserMedia({ 
                                video: { facingMode: 'user', width: 128, height: 96 } // Low res for performance
                            });
                            hiddenVideo.srcObject = stream;
                            hiddenVideo.play();
                            isCamActive = true;
                            toggleCamBtn.textContent = "TERMINATE";
                            toggleCamBtn.classList.add('bg-red-500/20', 'border-red-500/50', 'text-red-400');
                            toggleCamBtn.classList.remove('bg-emerald-500/20', 'border-emerald-500/50', 'text-emerald-400');
                            
                            // Start Rendering Loop
                            const ctx = asciiCanvas.getContext('2d', { willReadFrequently: true });
                            
                            asciiInterval = setInterval(() => {
                                if (hiddenVideo.readyState === hiddenVideo.HAVE_ENOUGH_DATA) {
                                    // Calculate aspect ratio for mobile responsiveness
                                    const w = 64; // Fixed width for ASCII grid
                                    const h = Math.floor(hiddenVideo.videoHeight / hiddenVideo.videoWidth * w * 0.6); // 0.6 compensates for char aspect ratio
                                    
                                    asciiCanvas.width = w;
                                    asciiCanvas.height = h;
                                    ctx.drawImage(hiddenVideo, 0, 0, w, h);
                                    
                                    const imageData = ctx.getImageData(0, 0, w, h);
                                    const pixels = imageData.data;
                                    let asciiImage = "";
                                    
                                    for (let i = 0; i < h; i++) {
                                        for (let j = 0; j < w; j++) {
                                            const pixelIndex = (i * w + j) * 4;
                                            const r = pixels[pixelIndex];
                                            const g = pixels[pixelIndex + 1];
                                            const b = pixels[pixelIndex + 2];
                                            const avg = (r + g + b) / 3;
                                            
                                            const len = density.length;
                                            const charIndex = Math.floor(map(avg, 0, 255, len, 0));
                                            
                                            const c = density.charAt(charIndex);
                                            if (c == " ") asciiImage += "&nbsp;";
                                            else asciiImage += c;
                                        }
                                        asciiImage += '<br/>';
                                    }
                                    asciiContainer.innerHTML = asciiImage;
                                }
                            }, 50); // 20 FPS
                            
                        } catch (err) {
                            console.error(err);
                            alert("CAMERA ACCESS DENIED OR UNAVAILABLE");
                        }
                    } else {
                        // Stop Camera
                        const stream = hiddenVideo.srcObject;
                        const tracks = stream.getTracks();
                        tracks.forEach(track => track.stop());
                        hiddenVideo.srcObject = null;
                        clearInterval(asciiInterval);
                        asciiContainer.innerHTML = '<span class="text-xs font-mono opacity-50">[ CAMERA FEED OFFLINE ]</span>';
                        isCamActive = false;
                        toggleCamBtn.textContent = "INITIALIZE";
                        toggleCamBtn.classList.remove('bg-red-500/20', 'border-red-500/50', 'text-red-400');
                        toggleCamBtn.classList.add('bg-emerald-500/20', 'border-emerald-500/50', 'text-emerald-400');
                    }
                });
            }
            
            function map(value, start1, stop1, start2, stop2) {
                return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));
            }

            /* =========================================
               PROJECT DOSSIER LOGIC
               ========================================= */
            const dossierModal = document.getElementById('dossier-modal');
            const dossierContent = document.getElementById('dossier-content');
            const closeDossierBtn = document.getElementById('close-dossier');
            const closeDossierBtn2 = document.getElementById('dossier-close-btn');
            const projectTimeless = document.getElementById('project-timeless');

            function openDossier(data) {
                // Populate Data
                document.getElementById('dossier-id').textContent = data.id;
                document.getElementById('dossier-title').textContent = data.title;
                document.getElementById('dossier-desc').textContent = data.desc;
                document.getElementById('dossier-status').textContent = data.status;
                document.getElementById('dossier-link').href = data.link;
                
                // Tech Stack
                const techContainer = document.getElementById('dossier-tech');
                techContainer.innerHTML = '';
                data.tech.forEach(t => {
                    const tag = document.createElement('span');
                    tag.className = "px-2 py-1 bg-white/5 border border-white/10 rounded text-[10px] text-neutral-400 font-mono";
                    tag.textContent = t;
                    techContainer.appendChild(tag);
                });

                // Show Modal
                dossierModal.classList.remove('hidden');
                // Trigger reflow
                void dossierModal.offsetWidth;
                dossierModal.classList.remove('opacity-0');
                dossierContent.classList.remove('scale-95');
                dossierContent.classList.add('scale-100');
            }

            function closeDossier() {
                dossierModal.classList.add('opacity-0');
                dossierContent.classList.remove('scale-100');
                dossierContent.classList.add('scale-95');
                setTimeout(() => {
                    dossierModal.classList.add('hidden');
                }, 300);
            }

            if (projectTimeless) {
                projectTimeless.addEventListener('click', () => {
                    openDossier({
                        id: '#006',
                        title: 'TimelessProject',
                        desc: 'Sebuah inisiatif startup yang bergerak di industri kreatif, menggabungkan seni visual dengan teknologi modern. Fokus utama pada pembuatan konten berkualitas tinggi, manajemen talenta, dan kolaborasi lintas disiplin. Proyek ini menggunakan pendekatan "Community-First" untuk membangun ekosistem yang berkelanjutan.',
                        status: 'ACTIVE / SCALING',
                        link: 'https://pinkybzz.github.io/Timeless/',
                        tech: ['React', 'Node.js', 'AWS S3', 'Figma', 'Adobe Creative Cloud']
                    });
                });
            }

            if (closeDossierBtn) closeDossierBtn.addEventListener('click', closeDossier);
            if (closeDossierBtn2) closeDossierBtn2.addEventListener('click', closeDossier);
            
            // Close on background click
            dossierModal.addEventListener('click', (e) => {
                if (e.target === dossierModal) closeDossier();
            });

            /* =========================================
               CYBER DEFENSE GAME LOGIC
               ========================================= */
            const startGameBtn = document.getElementById('start-game-btn');
            const gameOverlay = document.getElementById('defense-game-overlay');
            const gameArea = document.getElementById('game-area');
            const gameScoreEl = document.getElementById('game-score');
            const gameHealthEl = document.getElementById('game-health');
            const gameOverScreen = document.getElementById('game-over-screen');
            const finalScoreEl = document.getElementById('final-score');
            const restartGameBtn = document.getElementById('restart-game-btn');
            const closeGameBtn = document.getElementById('close-game-btn');
            const quitGameBtn = document.getElementById('quit-game-btn');

            let gameActive = false;
            let score = 0;
            let health = 100;
            let words = [];
            let spawnRate = 2000;
            let lastSpawn = 0;
            let animationFrame;
            
            const threatWords = [
                "MALWARE", "TROJAN", "PHISHING", "DDOS", "SQL_INJECTION", 
                "RANSOMWARE", "SPYWARE", "BOTNET", "EXPLOIT", "ZERO_DAY",
                "BRUTE_FORCE", "ROOTKIT", "BACKDOOR", "WORM", "KEYLOGGER"
            ];

            function spawnWord() {
                const wordText = threatWords[Math.floor(Math.random() * threatWords.length)];
                const x = Math.random() * (window.innerWidth - 100);
                const word = {
                    text: wordText,
                    x: x,
                    y: -30,
                    element: document.createElement('div'),
                    matchedIndex: 0
                };
                
                word.element.className = 'falling-word';
                word.element.textContent = wordText;
                word.element.style.left = `${x}px`;
                gameArea.appendChild(word.element);
                words.push(word);
            }

            function updateGame(timestamp) {
                if (!gameActive) return;

                if (timestamp - lastSpawn > spawnRate) {
                    spawnWord();
                    lastSpawn = timestamp;
                    if (spawnRate > 500) spawnRate -= 20; // Increase difficulty
                }

                words.forEach((word, index) => {
                    word.y += 1 + (score / 500); // Speed increases with score
                    word.element.style.top = `${word.y}px`;

                    if (word.y > window.innerHeight) {
                        // Missed word
                        health -= 10;
                        gameHealthEl.textContent = `${health}%`;
                        gameHealthEl.style.color = health < 30 ? '#ef4444' : '#10b981';
                        gameArea.removeChild(word.element);
                        words.splice(index, 1);
                        
                        // Screen shake effect
                        gameOverlay.style.transform = `translate(${Math.random()*10-5}px, ${Math.random()*10-5}px)`;
                        setTimeout(() => gameOverlay.style.transform = 'none', 50);

                        if (health <= 0) endGame();
                    }
                });

                animationFrame = requestAnimationFrame(updateGame);
            }

            function endGame() {
                gameActive = false;
                cancelAnimationFrame(animationFrame);
                gameOverScreen.classList.remove('hidden');
                finalScoreEl.textContent = score;
            }

            function resetGame() {
                score = 0;
                health = 100;
                spawnRate = 2000;
                words.forEach(w => gameArea.removeChild(w.element));
                words = [];
                gameScoreEl.textContent = score;
                gameHealthEl.textContent = "100%";
                gameHealthEl.style.color = '#10b981';
                gameOverScreen.classList.add('hidden');
                gameActive = true;
                lastSpawn = performance.now();
                requestAnimationFrame(updateGame);
            }

            if (startGameBtn) {
                startGameBtn.addEventListener('click', () => {
                    gameOverlay.style.display = 'flex';
                    resetGame();
                });
            }

            if (restartGameBtn) restartGameBtn.addEventListener('click', resetGame);
            
            if (closeGameBtn) {
                closeGameBtn.addEventListener('click', () => {
                    gameOverlay.style.display = 'none';
                    gameActive = false;
                });
            }
            
            if (quitGameBtn) {
                quitGameBtn.addEventListener('click', () => {
                    gameOverlay.style.display = 'none';
                    gameActive = false;
                });
            }

            // Typing Logic
            document.addEventListener('keydown', (e) => {
                if (!gameActive) return;
                
                const key = e.key.toUpperCase();
                let matchFound = false;

                // Find matching words
                for (let i = 0; i < words.length; i++) {
                    const word = words[i];
                    const targetChar = word.text[word.matchedIndex];
                    
                    if (key === targetChar) {
                        word.matchedIndex++;
                        const matched = word.text.substring(0, word.matchedIndex);
                        const remaining = word.text.substring(word.matchedIndex);
                        word.element.innerHTML = `<span class="matched-part">${matched}</span>${remaining}`;
                        
                        if (word.matchedIndex === word.text.length) {
                            // Word completed
                            score += 100;
                            gameScoreEl.textContent = score;
                            gameArea.removeChild(word.element);
                            words.splice(i, 1);
                            
                            // Visual feedback
                            const flash = document.createElement('div');
                            flash.style.position = 'absolute';
                            flash.style.left = word.element.style.left;
                            flash.style.top = word.element.style.top;
                            flash.style.color = '#10b981';
                            flash.style.fontWeight = 'bold';
                            flash.textContent = '+100';
                            gameArea.appendChild(flash);
                            setTimeout(() => gameArea.removeChild(flash), 500);
                        }
                        matchFound = true;
                        break; // Only type one letter per keypress (prevent multi-match)
                    }
                }
            });

            /* =========================================
               VOICE COMMAND LOGIC
               ========================================= */
            const voiceBtn = document.getElementById('voice-cmd-btn');
            
            if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                const recognition = new SpeechRecognition();
                
                recognition.continuous = false;
                recognition.lang = 'en-US';
                recognition.interimResults = false;

                voiceBtn.addEventListener('click', () => {
                    try {
                        recognition.start();
                        voiceBtn.classList.add('listening');
                    } catch (e) {
                        console.log("Recognition already started");
                    }
                });

                recognition.onend = () => {
                    voiceBtn.classList.remove('listening');
                };

                recognition.onresult = (event) => {
                    const command = event.results[0][0].transcript.toLowerCase();
                    console.log("Voice Command:", command);
                    
                    // Visual Feedback
                    const feedback = document.createElement('div');
                    feedback.className = "fixed bottom-24 right-24 bg-black/80 text-green-500 px-4 py-2 rounded border border-green-500/50 font-mono text-xs z-50";
                    feedback.textContent = `> CMD: "${command}"`;
                    document.body.appendChild(feedback);
                    setTimeout(() => document.body.removeChild(feedback), 3000);

                    // Command Parsing
                    if (command.includes('terminal')) {
                        openTerminal();
                    } else if (command.includes('close')) {
                        closeTerminal();
                        closeDossier();
                    } else if (command.includes('scroll down')) {
                        window.scrollBy({ top: 500, behavior: 'smooth' });
                    } else if (command.includes('scroll up')) {
                        window.scrollBy({ top: -500, behavior: 'smooth' });
                    } else if (command.includes('matrix')) {
                        activateMatrixMode();
                    } else if (command.includes('reload') || command.includes('refresh')) {
                        location.reload();
                    } else if (command.includes('defense') || command.includes('game')) {
                        if (startGameBtn) startGameBtn.click();
                    } else if (command.includes('projects')) {
                        document.getElementById('projects').scrollIntoView({ behavior: 'smooth' });
                    } else if (command.includes('skills')) {
                        document.getElementById('skills').scrollIntoView({ behavior: 'smooth' });
                    }
                };
            } else {
                voiceBtn.style.display = 'none';
                console.log("Web Speech API not supported");
            }
            /* =========================================
               SONIC SYNTH LOGIC (Web Audio API)
               ========================================= */
            const synthBtns = document.querySelectorAll('.synth-btn');
            let audioCtx;

            function initAudio() {
                if (!audioCtx) {
                    const AudioContext = window.AudioContext || window.webkitAudioContext;
                    audioCtx = new AudioContext();
                }
                if (audioCtx.state === 'suspended') {
                    audioCtx.resume();
                }
            }

            function playSound(type, freq) {
                initAudio();
                const now = audioCtx.currentTime;
                const gainNode = audioCtx.createGain();
                gainNode.connect(audioCtx.destination);

                if (type === 'kick') {
                    const osc = audioCtx.createOscillator();
                    osc.connect(gainNode);
                    osc.frequency.setValueAtTime(150, now);
                    osc.frequency.exponentialRampToValueAtTime(0.01, now + 0.5);
                    gainNode.gain.setValueAtTime(1, now);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, now + 0.5);
                    osc.start(now);
                    osc.stop(now + 0.5);
                } else if (type === 'snare') {
                    const bufferSize = audioCtx.sampleRate * 0.5;
                    const buffer = audioCtx.createBuffer(1, bufferSize, audioCtx.sampleRate);
                    const data = buffer.getChannelData(0);
                    for (let i = 0; i < bufferSize; i++) {
                        data[i] = Math.random() * 2 - 1;
                    }
                    const noise = audioCtx.createBufferSource();
                    noise.buffer = buffer;
                    const noiseFilter = audioCtx.createBiquadFilter();
                    noiseFilter.type = 'highpass';
                    noiseFilter.frequency.value = 1000;
                    noise.connect(noiseFilter);
                    noiseFilter.connect(gainNode);
                    gainNode.gain.setValueAtTime(1, now);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, now + 0.2);
                    noise.start(now);
                    noise.stop(now + 0.2);
                } else if (type === 'hihat') {
                    const bufferSize = audioCtx.sampleRate * 0.1;
                    const buffer = audioCtx.createBuffer(1, bufferSize, audioCtx.sampleRate);
                    const data = buffer.getChannelData(0);
                    for (let i = 0; i < bufferSize; i++) {
                        data[i] = Math.random() * 2 - 1;
                    }
                    const noise = audioCtx.createBufferSource();
                    noise.buffer = buffer;
                    const noiseFilter = audioCtx.createBiquadFilter();
                    noiseFilter.type = 'highpass';
                    noiseFilter.frequency.value = 5000;
                    noise.connect(noiseFilter);
                    noiseFilter.connect(gainNode);
                    gainNode.gain.setValueAtTime(0.7, now);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, now + 0.1);
                    noise.start(now);
                    noise.stop(now + 0.1);
                } else if (type === 'clap') {
                    const bufferSize = audioCtx.sampleRate * 0.2;
                    const buffer = audioCtx.createBuffer(1, bufferSize, audioCtx.sampleRate);
                    const data = buffer.getChannelData(0);
                    for (let i = 0; i < bufferSize; i++) {
                        data[i] = Math.random() * 2 - 1;
                    }
                    const noise = audioCtx.createBufferSource();
                    noise.buffer = buffer;
                    const noiseFilter = audioCtx.createBiquadFilter();
                    noiseFilter.type = 'bandpass';
                    noiseFilter.frequency.value = 1500;
                    noise.connect(noiseFilter);
                    noiseFilter.connect(gainNode);
                    gainNode.gain.setValueAtTime(1, now);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, now + 0.2);
                    noise.start(now);
                    noise.stop(now + 0.2);
                } else if (type === 'note') {
                    const osc = audioCtx.createOscillator();
                    osc.type = 'sawtooth';
                    osc.frequency.setValueAtTime(freq, now);
                    
                    const filter = audioCtx.createBiquadFilter();
                    filter.type = 'lowpass';
                    filter.frequency.setValueAtTime(2000, now);
                    filter.frequency.exponentialRampToValueAtTime(500, now + 0.5);
                    
                    osc.connect(filter);
                    filter.connect(gainNode);
                    
                    gainNode.gain.setValueAtTime(0.2, now);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, now + 1);
                    
                    osc.start(now);
                    osc.stop(now + 1);
                }
            }

            synthBtns.forEach(btn => {
                btn.addEventListener('mousedown', () => {
                    const type = btn.dataset.sound;
                    const freq = btn.dataset.freq;
                    playSound(type, freq);
                    btn.classList.add('active');
                    setTimeout(() => btn.classList.remove('active'), 100);
                });
            });

            /* =========================================
               3D CYBER GLOBE (HERO SECTION)
               ========================================= */
            function initHero3D() {
                const container = document.getElementById('hero-3d');
                if (!container) return;

                const scene = new THREE.Scene();
                const camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);
                const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
                
                renderer.setSize(container.clientWidth, container.clientHeight);
                container.appendChild(renderer.domElement);

                // Create Wireframe Sphere
                const geometry = new THREE.IcosahedronGeometry(1.5, 2);
                const material = new THREE.MeshBasicMaterial({ 
                    color: 0x10b981, 
                    wireframe: true,
                    transparent: true,
                    opacity: 0.3
                });
                const sphere = new THREE.Mesh(geometry, material);
                scene.add(sphere);

                // Create Particles
                const particlesGeometry = new THREE.BufferGeometry();
                const particlesCount = 200;
                const posArray = new Float32Array(particlesCount * 3);

                for(let i = 0; i < particlesCount * 3; i++) {
                    posArray[i] = (Math.random() - 0.5) * 5;
                }

                particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
                const particlesMaterial = new THREE.PointsMaterial({
                    size: 0.02,
                    color: 0x3b82f6,
                    transparent: true,
                    opacity: 0.8
                });
                const particlesMesh = new THREE.Points(particlesGeometry, particlesMaterial);
                scene.add(particlesMesh);

                camera.position.z = 3;

                function animate() {
                    requestAnimationFrame(animate);
                    sphere.rotation.x += 0.002;
                    sphere.rotation.y += 0.002;
                    particlesMesh.rotation.y -= 0.001;
                    renderer.render(scene, camera);
                }
                animate();

                // Handle Resize
                window.addEventListener('resize', () => {
                    if (container.clientWidth > 0 && container.clientHeight > 0) {
                        camera.aspect = container.clientWidth / container.clientHeight;
                        camera.updateProjectionMatrix();
                        renderer.setSize(container.clientWidth, container.clientHeight);
                    }
                });
            }
            
            // Delay init to ensure container has size
            setTimeout(initHero3D, 1000);

            /* =========================================
               UI SOUND EFFECTS (SFX)
               ========================================= */
            function playUiSound(type) {
                // Only play if user has interacted (AudioContext policy)
                if (!audioCtx || audioCtx.state === 'suspended') return;

                const now = audioCtx.currentTime;
                const gainNode = audioCtx.createGain();
                gainNode.connect(audioCtx.destination);

                const osc = audioCtx.createOscillator();
                osc.connect(gainNode);

                if (type === 'hover') {
                    // High pitched blip
                    osc.type = 'sine';
                    osc.frequency.setValueAtTime(800, now);
                    osc.frequency.exponentialRampToValueAtTime(1200, now + 0.05);
                    
                    gainNode.gain.setValueAtTime(0.05, now);
                    gainNode.gain.exponentialRampToValueAtTime(0.001, now + 0.05);
                    
                    osc.start(now);
                    osc.stop(now + 0.05);
                } else if (type === 'click') {
                    // Mechanical click
                    osc.type = 'square';
                    osc.frequency.setValueAtTime(200, now);
                    osc.frequency.exponentialRampToValueAtTime(50, now + 0.1);
                    
                    gainNode.gain.setValueAtTime(0.05, now);
                    gainNode.gain.exponentialRampToValueAtTime(0.001, now + 0.1);
                    
                    osc.start(now);
                    osc.stop(now + 0.1);
                } else if (type === 'type') {
                    // Key press click
                    osc.type = 'triangle';
                    osc.frequency.setValueAtTime(600, now);
                    
                    gainNode.gain.setValueAtTime(0.03, now);
                    gainNode.gain.exponentialRampToValueAtTime(0.001, now + 0.05);
                    
                    osc.start(now);
                    osc.stop(now + 0.05);
                } else if (type === 'powerup') {
                    // System Boot Sound
                    osc.type = 'sawtooth';
                    osc.frequency.setValueAtTime(100, now);
                    osc.frequency.exponentialRampToValueAtTime(1000, now + 1);
                    
                    gainNode.gain.setValueAtTime(0.1, now);
                    gainNode.gain.exponentialRampToValueAtTime(0.001, now + 1.5);
                    
                    osc.start(now);
                    osc.stop(now + 1.5);
                }
            }

            // Attach SFX to interactive elements
            const interactiveElements = document.querySelectorAll('a, button, .glass-card, .synth-btn');
            interactiveElements.forEach(el => {
                el.addEventListener('mouseenter', () => playUiSound('hover'));
                el.addEventListener('click', () => playUiSound('click'));
            });

            // Typing SFX
            document.querySelectorAll('input, textarea').forEach(el => {
                el.addEventListener('input', () => playUiSound('type'));
                el.addEventListener('focus', () => playUiSound('hover'));
            });

            /* =========================================
               MUSIC CARD INTERACTION
               ========================================= */
            const musicCard = document.getElementById('music-card');
            if (musicCard) {
                let isPlaying = false;
                
                musicCard.addEventListener('mouseenter', () => {
                    if (isPlaying) return;
                    isPlaying = true;
                    
                    // Play a simple E-minor arpeggio
                    const notes = [329.63, 392.00, 493.88, 659.25]; // E4, G4, B4, E5
                    let delay = 0;
                    
                    notes.forEach((freq, i) => {
                        setTimeout(() => {
                            playSound('note', freq);
                        }, delay);
                        delay += 150;
                    });
                    
                    // Reset flag
                    setTimeout(() => { isPlaying = false; }, delay + 500);
                });
            }

        });
    </script>

    <!-- Lightbox Overlay -->
    <div id="lightbox" class="fixed inset-0 z-[100] bg-black/95 backdrop-blur-md hidden opacity-0 transition-opacity duration-300 flex items-center justify-center p-4">
        <button id="lightbox-close" class="absolute top-6 right-6 text-white/50 hover:text-white transition-colors z-50">
            <i data-lucide="x" class="w-8 h-8"></i>
        </button>

        <!-- Terminal Animation -->
        <div id="lightbox-terminal" class="w-full max-w-2xl bg-black rounded-lg border border-green-500/30 p-6 font-mono text-sm shadow-2xl relative overflow-hidden">
            <div class="absolute inset-0 bg-green-500/5 pointer-events-none"></div>
            <div class="flex gap-2 mb-4 border-b border-green-500/20 pb-4">
                <div class="w-3 h-3 rounded-full bg-red-500/20 border border-red-500/50"></div>
                <div class="w-3 h-3 rounded-full bg-yellow-500/20 border border-yellow-500/50"></div>
                <div class="w-3 h-3 rounded-full bg-green-500/20 border border-green-500/50"></div>
                <span class="ml-auto text-xs text-green-500/50">SECURE_CONNECTION_ESTABLISHED</span>
            </div>
            <div id="terminal-logs" class="space-y-1 h-64 overflow-y-auto text-green-500 font-mono text-xs md:text-sm">
                <!-- Logs will appear here -->
            </div>
        </div>

        <!-- Actual Image -->
        <img id="lightbox-img" src="" alt="Full view" class="max-w-full max-h-[90vh] rounded-lg shadow-2xl border border-white/10 hidden transition-all duration-500 ease-out">
    </div>

    <!-- Terminal Overlay -->
    <div id="cmd-overlay" class="fixed inset-0 z-[60] bg-black/80 backdrop-blur-sm hidden flex items-center justify-center p-4 opacity-0 transition-opacity duration-300">
        <div class="w-full max-w-3xl bg-[#0c0c0c] border border-green-500/30 rounded-lg shadow-2xl overflow-hidden flex flex-col h-[500px] font-mono text-sm relative">
            <!-- Header -->
            <div class="bg-white/5 border-b border-white/5 p-2 flex items-center justify-between select-none">
                <div class="flex gap-2 px-2">
                    <div class="w-3 h-3 rounded-full bg-red-500/50 hover:bg-red-500 transition-colors cursor-pointer" id="close-cmd-dot"></div>
                    <div class="w-3 h-3 rounded-full bg-yellow-500/50"></div>
                    <div class="w-3 h-3 rounded-full bg-green-500/50"></div>
                </div>
                <div class="text-neutral-500 text-xs">rakha@portfolio:~</div>
                <button id="close-cmd" class="text-neutral-500 hover:text-white px-2"><i data-lucide="x" class="w-4 h-4"></i></button>
            </div>
            <!-- Content -->
            <div id="cmd-output" class="flex-1 p-4 overflow-y-auto text-green-400 space-y-1 font-mono text-xs md:text-sm">
                <div class="mb-4 text-neutral-400">
                    Welcome to RakhaOS v1.0.0 (Web Terminal)<br>
                    Type <span class="text-white font-bold">'help'</span> to see available commands.<br>
                    ----------------------------------------
                </div>
            </div>
            <!-- Input -->
            <div class="p-4 bg-white/5 border-t border-white/5 flex items-center gap-2">
                <span class="text-green-500 font-bold">‚ûú</span>
                <span class="text-blue-400 font-bold">~</span>
                <input id="cmd-input" type="text" class="bg-transparent border-none outline-none text-white flex-1 font-mono" autocomplete="off" spellcheck="false">
            </div>
        </div>
    </div>

    <!-- Custom Context Menu -->
    <div id="context-menu">
        <div class="ctx-item" onclick="location.reload()">
            <i data-lucide="refresh-cw" class="w-3 h-3"></i> REFRESH_SYSTEM
        </div>
        <div class="ctx-item" onclick="window.print()">
            <i data-lucide="printer" class="w-3 h-3"></i> PRINT_LOGS
        </div>
        <div class="ctx-hr"></div>
        <div class="ctx-item" onclick="navigator.clipboard.writeText(window.location.href)">
            <i data-lucide="copy" class="w-3 h-3"></i> COPY_LINK
        </div>
        <div class="ctx-item" onclick="alert('SYSTEM INTEGRITY: 100%')">
            <i data-lucide="shield-check" class="w-3 h-3"></i> CHECK_INTEGRITY
        </div>
    </div>

    <!-- IP Intel Widget -->
    <div id="ip-widget" class="ip-widget reveal-on-scroll">
        <div id="ip-header" class="flex items-center justify-between mb-2 border-b border-white/10 pb-1 cursor-pointer group">
            <div class="flex items-center gap-2">
                <div class="w-2 h-2 bg-red-500 rounded-full animate-pulse"></div>
                <span class="text-xs text-white font-bold tracking-wider">TARGET_ID</span>
            </div>
            <i id="ip-toggle-icon" data-lucide="chevron-down" class="w-3 h-3 text-neutral-500 group-hover:text-white transition-transform duration-300"></i>
        </div>
        <div id="ip-content" class="space-y-1 transition-all duration-300 overflow-hidden max-h-40">
            <div><span class="ip-label">IP:</span> <span id="user-ip" class="ip-value">SCANNING...</span></div>
            <div><span class="ip-label">LOC:</span> <span id="user-loc" class="ip-value">UNKNOWN</span></div>
            <div><span class="ip-label">ISP:</span> <span id="user-isp" class="ip-value">UNKNOWN</span></div>
            <div><span class="ip-label">UA:</span> <span id="user-ua" class="ip-value">UNKNOWN</span></div>
        </div>
    </div>

    <!-- Project Dossier Modal -->
    <div id="dossier-modal" class="fixed inset-0 z-[100] bg-black/90 backdrop-blur-md hidden flex items-center justify-center p-4 opacity-0 transition-opacity duration-300">
        <div class="w-full max-w-2xl bg-[#1a1a1a] border border-white/10 rounded-sm shadow-2xl relative overflow-hidden flex flex-col transform scale-95 transition-transform duration-300" id="dossier-content">
            <!-- Top Secret Stamp -->
            <div class="absolute top-10 right-10 border-4 border-red-500/20 text-red-500/20 font-black text-4xl px-4 py-2 -rotate-12 pointer-events-none select-none z-0">
                CONFIDENTIAL
            </div>
            
            <!-- Header -->
            <div class="bg-neutral-900 p-4 border-b border-white/10 flex justify-between items-center z-10 relative">
                <div class="flex items-center gap-3">
                    <i data-lucide="folder-lock" class="w-5 h-5 text-yellow-500"></i>
                    <span class="font-mono text-sm text-yellow-500 tracking-widest">CASE FILE: <span id="dossier-id" class="text-white">#001</span></span>
                </div>
                <button id="close-dossier" class="text-neutral-500 hover:text-white transition-colors">
                    <i data-lucide="x" class="w-5 h-5"></i>
                </button>
            </div>

            <!-- Content -->
            <div class="p-6 md:p-8 z-10 relative">
                <div class="flex flex-col md:flex-row gap-6 mb-6">
                    <div class="w-24 h-24 bg-neutral-800 rounded border border-white/10 flex items-center justify-center flex-shrink-0 self-center md:self-start">
                        <i id="dossier-icon" data-lucide="rocket" class="w-10 h-10 text-neutral-500"></i>
                    </div>
                    <div>
                        <h2 id="dossier-title" class="text-2xl font-bold text-white mb-2 font-mono">PROJECT NAME</h2>
                        <div class="flex gap-2 mb-4">
                            <span class="px-2 py-0.5 bg-red-500/20 text-red-400 text-[10px] font-mono rounded border border-red-500/30">TOP SECRET</span>
                            <span class="px-2 py-0.5 bg-blue-500/20 text-blue-400 text-[10px] font-mono rounded border border-blue-500/30">LEVEL 5 CLEARANCE</span>
                        </div>
                        <p id="dossier-desc" class="text-neutral-400 text-sm leading-relaxed">Project description goes here...</p>
                    </div>
                </div>

                <div class="space-y-4">
                    <div>
                        <h3 class="text-xs font-mono text-neutral-500 mb-2 uppercase">Technical Specifications</h3>
                        <div id="dossier-tech" class="flex flex-wrap gap-2">
                            <!-- Tech tags injected here -->
                        </div>
                    </div>
                    
                    <div class="bg-black/30 p-4 rounded border border-white/5 font-mono text-xs text-green-500/80">
                        > STATUS: <span id="dossier-status" class="text-white">ACTIVE</span><br>
                        > SECURITY_AUDIT: <span class="text-emerald-500">PASSED</span><br>
                        > LAST_UPDATE: <span class="text-white">2025-12-01</span>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <div class="bg-neutral-900 p-4 border-t border-white/10 flex justify-end gap-3 z-10 relative">
                <button id="dossier-close-btn" class="px-4 py-2 rounded text-xs font-medium text-neutral-400 hover:text-white transition-colors">CLOSE FILE</button>
                <a id="dossier-link" href="#" target="_blank" class="px-4 py-2 rounded bg-emerald-600 hover:bg-emerald-500 text-white text-xs font-medium transition-colors flex items-center gap-2">
                    ACCESS PROJECT <i data-lucide="external-link" class="w-3 h-3"></i>
                </a>
            </div>
        </div>
    </div>

    <!-- Status Bar -->
    <div class="fixed bottom-6 right-6 z-40 hidden md:flex items-center gap-3 px-4 py-2 rounded-full bg-neutral-900/80 backdrop-blur border border-white/10 text-xs font-mono text-neutral-400 shadow-xl hover:border-emerald-500/30 transition-colors cursor-default">
        <div class="flex items-center gap-2">
            <span class="relative flex h-2 w-2">
                <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"></span>
                <span class="relative inline-flex rounded-full h-2 w-2 bg-emerald-500"></span>
            </span>
            <span class="text-emerald-500 font-semibold tracking-wider">SYSTEM ONLINE</span>
        </div>
        <div class="h-3 w-px bg-white/10"></div>
        <div id="clock" class="w-16 text-center">00:00:00</div>
        <div class="h-3 w-px bg-white/10"></div>
        <div class="w-16 text-right">LAT: <span id="latency" class="text-emerald-400">24ms</span></div>
        <div class="h-3 w-px bg-white/10"></div>
        <div id="flag-counter" class="text-yellow-500 font-bold tracking-wider cursor-help" title="Find hidden flags!">FLAGS: 0/3</div>
    </div>
    <!-- Voice Command Button -->
    <div id="voice-cmd-btn" title="Voice Command (Beta)">
        <i data-lucide="mic" class="w-6 h-6"></i>
    </div>

    <!-- Cyber Defense Game Overlay -->
    <div id="defense-game-overlay">
        <div class="absolute top-10 left-0 right-0 text-center pointer-events-none">
            <h2 class="text-3xl text-white font-bold tracking-widest mb-2">SYSTEM UNDER ATTACK</h2>
            <p class="text-blue-400 font-mono text-sm">TYPE THE WORDS TO NEUTRALIZE THREATS</p>
        </div>
        
        <div class="absolute top-10 right-10 text-right font-mono">
            <div class="text-white text-xl">SCORE: <span id="game-score" class="text-green-500">0</span></div>
            <div class="text-white text-sm">INTEGRITY: <span id="game-health" class="text-green-500">100%</span></div>
        </div>

        <div id="game-area" class="w-full h-full relative"></div>

        <div id="game-over-screen" class="absolute inset-0 bg-black/90 flex flex-col items-center justify-center hidden z-50">
            <h2 class="text-5xl text-red-500 font-bold mb-4">SYSTEM COMPROMISED</h2>
            <p class="text-white font-mono mb-8">FINAL SCORE: <span id="final-score">0</span></p>
            <button id="restart-game-btn" class="px-8 py-3 bg-white text-black font-bold tracking-widest hover:bg-gray-200 transition-colors rounded">REBOOT SYSTEM</button>
            <button id="close-game-btn" class="mt-4 text-neutral-500 hover:text-white text-sm underline">EXIT TO DESKTOP</button>
        </div>
        
        <button id="quit-game-btn" class="absolute top-10 left-10 text-neutral-500 hover:text-white z-50">
            <i data-lucide="x" class="w-8 h-8"></i>
        </button>
    </div>
</body>
</html>

